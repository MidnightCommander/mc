.\"TOPICS "Разделы помощи:"
.\" TODO: Перевести раздел EXTernal File System
.TH MC 1 "%DATE_OF_MAN_PAGE%" "MC Version %DISTR_VERSION%" "GNU Midnight Commander"
.\"SKIP_SECTION"
.SH "НАИМЕНОВАНИЕ"
mc \- Визуальная оболочка для Unix\-подобных систем.
.\"SKIP_SECTION"
.SH "СИНТАКСИС"
.B mc
[\-abcCdfhPstuUVx] [\-l журнал] [каталог1 [каталог2]] [\-e [файл] .     ..] [\-v файл]
.\"NODE "DESCRIPTION"
.SH "ОПИСАНИЕ"
Что такое Midnight Commander
.PP
Midnight Commander \- это программа, предназначенная для просмотра
содержимого каталогов и выполнения основных функций управления файлами в
UNIX\-подобных операционных системах.
.\"NODE "OPTIONS"
.\"DONT_SPLIT"
.SH "КЛЮЧИ"
Ключи запуска программы Midnight Commander
.TP
.I \-a, \-\-stickchars
Отключить использование графических символов для рисования линий.
.TP
.I \-b, \-\-nocolor
Запуск программы в черно\-белом режиме экрана.
.TP
.I \-c, \-\-color
Включает цветной режим дисплея. Для получения более подробной информации
смотрите раздел
.\"LINK2"
Цвета\&.
.\"Colors"
.TP
.I \-C arg, \-\-colors=arg
Используется для того, чтобы задать другой набор цветов в командной
строке. Формат аргумента arg описан в разделе
.\"LINK2"
Цвета\&.
.\"Colors"
.TP
.I \-\-configure\-options
Выводит опции конфигурирования, с которыми был собран  Midnight Commander.
.TP
.I \-d, \-\-nomouse
Отключает поддержку мыши.
.TP
.I \-D N, \-\-debuglevel=N
Используется только если код был скомпилирован с поддержкой
.\"LINK2"
виртуальной файловой системы smbfs
.\"SMB File System"
для установки уровня отладочных сообщений smbfs в N (0\-10).
.TP
.I \-e [файл]
Запустить встроенный редактор. Если параметр "файл" задан, этот файл
будет открыт при запуске. Смотрите также
.BR mcedit(1) .
.TP
.I \-f, \-\-datadir
Выводит на экран определенный в процессе компиляции программы путь к
файлам программы Midnight Commander.
.TP
.I \-F, \-\-datadir\-info
Выводит на экран расширенную информацию о путях, используемых при работе
программы Midnight Commander.
.TP
.I \-g, \-\-oldmouse
Принудительно устанавливает режим мыши "normal tracking". В xterm\-совместимых
терминалах (например, tmux/screen).
.TP
.I \-k, \-\-resetsoft
Восстанавливает значения команд, назначенных функциональным клавишам в
предусмотренные по умолчанию значения, используя базу данных
termcap/terminfo. Этот ключ используется только на терминалах HP, где
функциональные клавиши не работают.
.TP
.I \-K файл, \-\-keymap=файл
Задаёт файл клавиатурных команд для переопределения привязки клавиатурных
комбинаций к действиям.
.TP
.I \-l файл, \-\-ftplog=файл
Сохранить диалог с ftp\-сервером, а также отладочную информацию smbfs в
файл file.
.TP
.I \-\-nokeymap
Не загружать клавиатурные комбинации из файла, использовать определённые
в исходном коде.
.TP
.I \-P файл, \-\-printwd=файл
По окончании работы Midnight Commander запишет последний текущий каталог
в указанный файл.  Эту опцию не следует использовать напрямую.  Она
используется специальной функцией оболочки, которая меняет текущий
каталог оболочки на последний каталог, использованный Midnight
Commander.
.IP
Для того чтобы эта функция была определена, используйте файл
.B %libexecdir%/mc/mc.sh
для оболочек bash и zsh, а для оболочки tcsh соответственно файл
.B %libexecdir%/mc/mc.csh
.TP
.I \-s, \-\-slow
Включает медленный режим терминала, в котором программа выводит меньше
псевдографических символов (в том числе в меню и экранах помощи) и
отключается вывод дополнительных (избыточных) сообщений.
.TP
.I \-S arg, \-\-skin
Используется для того, чтобы задать другой скин в командной
строке. Технология скинов описана в разделе
.\"LINK2"
Внешний вид\&.
.\"Skins"
.TP
.I \-t, \-\-termcap
Используется только в том случае, когда код был скомпилирован с S\-Lang и
terminfo: в этом случае Midnight Commander использует значение
переменной
.B TERMCAP
для получения информации о терминале вместо использования системной базы
терминалов.
.TP
.I \-u, \-\-nosubshell
Отключает использование альтернативных оболочек shell (имеет смысл
только в том случае, когда Midnight Commander был скомпилирован с
поддержкой альтернативной оболочки).
.TP
.I \-U, \-\-subshell
Делает возможным использование subshell (имеет смысл только в том
случае, когда Midnight Commander был скомпилирован с поддержкой subshell
как опции).
.TP
.I \-v file
Запустить встроенную программу просмотра Midnight Commander\-а для
просмотра указанного файла. После выхода из режима просмотра вы выходите
из Midnight Commander и оказываетесь в shell.
.TP
.I \-V, \-\-version
Отображает версию программы.
.TP
.I \-x, \-\-xterm
Запускает программу в режиме xterm. Используется только на терминалах,
работающих в режиме xterm (два режима работы экрана и возможность
формировать экранирующие последовательности с помощью мыши) (two screen
modes, and able to send mouse escape sequences).
.TP
.I \-X, \-\-no\-x11
Не использовать X11 для получения состояния модификаторов Alt, Ctrl, Shift.
.PP
Первое путевое имя (path name) в командной строке (если указано) задает
каталог, который будет отображаться в активной панели; второй путь \-
каталог, отображаемый во второй панели.
.\"NODE "Overview"
.SH "Главное окно программы"
Главное окно программы Midnight Commander состоит из трех полей. Два
поля, называемые "панелями", идентичны по структуре и обычно отображают
перечни файлов и подкаталогов каких\-то двух каталогов файловой
структуры. Эти каталоги в общем случае различны, хотя, в частности,
могут и совпасть. Каждая панель состоит из заголовка, списка файлов и
информационной строки.
.PP
Третье поле экрана, расположенное в нижней части экрана, содержит
командную строку текущей оболочки. В этом же поле (самая нижняя строка
экрана) содержится подсказка по использованию функциональных клавиш F1 \-
F10. Самая верхняя строка экрана содержит строку
.\"LINK2"
горизонтального меню\&.
.\"Menu Bar"
Эта строка может не отображаться на экране; в этом случае доступ к ней
можно получить, щелкнув мышью по верхней рамке или нажав клавишу F9.
.PP
Панели Midnight Commander обеспечивают просмотр одновременно двух
каталогов. Одна из панелей является активной в том смысле, что
пользователь может выполнять некоторые операции с отображаемыми в этой
панели файлами и каталогами. В активной панели подсвечено имя одного из
каталогов или файлов, а также выделен цветом заголовок панели в верхней
строке. Этот заголовок совпадает с именем отображаемого в данной панели
каталога, который является текущим каталогом той оболочки, из которой
запущена программа. Вторая панель \- пассивна. Почти все операции
выполняются в активной панели, то есть в соответствующем (текущем)
каталоге. Некоторые операции (типа копирования или переноса файлов) по
умолчанию используют каталог, отображаемый в пассивной панели, как место
назначения операции. Более подробное описание панелей дано в подразделе
.\"LINK2"
.I Панели каталогов
.\"Directory Panels"
раздела
.\"LINK2"
.I Меню левой и правой панелей
.\"Left and Right Menus"
и в разделе
.\"LINK2"
.I Меню "Файл"
.\"File Menu"
.PP
Вы можете выполнить любую команду операционной системы или запустить на
исполнение любую программу непосредственно из программы Midnight
Commander, просто набрав имя этой команды (программы) в командной строке
и нажав клавишу Enter. Прочитайте разделы
.\"LINK2"
.I Командная строка оболочки
.\"Shell Command Line"
и
.\"LINK2"
.I Редактирование строк ввода
.\"Input Line Keys"
для того, чтобы узнать больше о командной строке.
.\"NODE "Mouse Support"
.SH "Поддержка мыши"
Программа Midnight Commander обеспечивает поддержку мыши. Это свойство
обеспечивается независимо от того, откуда запущен терминал
.B xterm(1)
(даже если xterm запущен на удаленном компьютере, используя
соединение через telnet, ssh или rlogin) или если вы работаете за
консолью Linux и запущена программа управления мышью
.BR gpm .
.PP
Если вы щелкаете мышью на имени файла в одной из панелей, файл
выбирается (подсветка перемещается на это имя); если вы щелкнете правой
кнопкой мыши, файл отмечается (или отметка с файла снимается, в
зависимости от предыдущего состояния).
.PP
Двойной щелчок мыши на имени файла означает попытку запустить файл на
исполнение (если это исполняемая программа); либо, если
.\"LINK2"
файл расширений
.\"Extension File Edit"
содержит программу, ассоциированную с данным расширением, запускается
эта программа и ей передается на обработку выбранный файл.
.PP
Точно также можно выполнить команду, ассоциированную с любой
функциональной клавишей, щелкнув по соответствующей экранной кнопке в
самой нижней строке экрана.
.PP
По умолчанию скорость эмуляции повторных нажатий на клавишу в случае ее
удержания (auto repeat rate) составляет 400 миллисекунд. Это значение
можно изменить путем изменения параметра
.I mouse_repeat_rate
в файле
.\"LINK2"
\&~/.config/mc/ini
.\"Save Setup"
.PP
Если Commander запущен с поддержкой мыши, вы можете обойти Commander и
добиться того, что мышь будет вести себя так же, как она ведет себя по
умолчанию (обеспечивая вырезание и вставку текста), если будете
удерживать клавишу Shift.
.\"NODE "Keys"
.SH "Клавиатурные команды"
Некоторые команды в Midnight Commander вызываются с использованием
клавиш
.I Control
(иногда обозначается как CTRL или CTL) и
.I Meta
(иногда обозначается ALT или даже Compose). В настоящем руководстве
будут использоваться следующие сокращения:
.PP
C\-<символ> означает, что нужно нажать и удерживать клавишу Control и в
это время нажать клавишу <символ>. Так C\-f будет означать: нажмите
Control и, удерживая ее, нажмите (коротким щелчком) клавишу f.
.PP
Аналогично M\-<символ> означает, что надо удерживать в нажатом состоянии
клавишу Meta или Alt во время удара по клавише <символ>. Если на
клавиатуре нет клавиш Meta и Alt, нажмите ESC, отпустите ее, а потом
щелкните по клавише <символ>.
.PP
S\-<символ> означает, что нужно держать в нажатом состоянии клавишу Shift
во время удара по клавише <символ>.
.PP
Все строки ввода в Midnight Commander по умолчанию поддерживают соглашения
об использовании "горячих" клавиш, принятые в редакторе GNU Emacs.
.PP
Вы можете переопределить клавиатурные привязки хоткеев к командам, как
это описано в разделе
.\"LINK2"
.I переопределение клавиатурных команд
.\"Keys_redefine"
.PP
Все последующие описания клавиатурных команд относятся к поведению по
умолчанию.
.PP
Описания клавиатурных команд даются в нескольких разделах помощи.
Наиболее важными являются следующие разделы:
.PP
В разделе
.\"LINK2"
.I Меню "Файл"
.\"File Menu"
приведены комбинации клавиш, которые служат для вызова команд,
перечисленных в меню "Файл". В этом же разделе перечислены команды,
ассоциированные с функциональными клавишами. Большинство из этих команд
выполняют действия над подсвеченным файлом или группой отмеченных
файлов.
.PP
В секции
.\"LINK2"
.I Панели каталогов
.\"Directory Panels"
рассказано о клавишах, которые используются для выбора файла или группы
файлов как объектов некоторого последующего действия (обычно действия из
меню "Файл").
.PP
В разделе
.\"LINK2"
.I Командная строка оболочки (Shell)
.\"Shell Command Line"
перечисляются команды и комбинации клавиш, которые используются для
ввода и редактирования команд в командной строке оболочки. Большая часть
этих команд служит для переноса имен файлов и/или имен каталогов в
командную строку (чтобы уменьшить трудоемкость ввода) или для доступа к
истории команд.
.PP
Клавиши
.\"LINK2"
редактирования строк ввода
.\"Input Line Keys"
используются как при редактировании командной строки, так и других строк
ввода, появляющихся в различных запросах программы.

.\"NODE "  Keys_redefine"
.SH "  Переопределение клавиатурных команд"
Клавиатурные команды могут быть прочитаны из внешнего файла.
Сначала Midnight Commander создаёт карту клавиатурных команд из списка,
определённого в исходном коде. Затем всегда загружаются два файла
.B %sysconfdir%/mc/mc.keymap
и
.B %prefix%/share/mc/mc.keymap ,
последовательно переопределяя ранее загруженные команды.
Поиск файла клавиатурных команд, определённого пользователем, производится
по следующему алгоритму (до первого нахождения файла):
.IP
.br
1) параметр командной строки
.B \-K \<файл\>
или
.B \-\-keymap=\<файл\>
.br
2) переменная окружения
.B MC_KEYMAP
.br
3) параметр
.B keymap
в секции
.B [Midnight\-Commander]
конфигурационного файла.
.br
4) файл
.B ~/.config/mc/mc.keymap
.br
.PP
Параметры в трёх первых случаях могут содержать абсолютный путь к файлу
клавиатурных команд либо просто название схемы привязки (с расширением .keymap
либо без него). В данном случае поиск файла клавиатурных команд
будет происходить по следующим каталогам (до первого нахождения):
.IP
.br
1)
.B ~/.config/mc/
.br
2)
.B %sysconfdir%/mc/
.br
3)
.B %prefix%/share/mc/

.\"NODE "  Miscellaneous Keys"
.SH "  Разные команды"
Имеется несколько действий, ассоциированных с некоторыми комбинациями
клавиш, которые не попадают ни в одну из других категорий:
.TP
.B Enter
Если в командной строке (в нижней части экрана) набрано имя какой\-либо
команды, запускается соответствующая программа (если команды не
существует, выдается соответствующее сообщение). Если в командной строке
нет никакого текста, и если на активной панели подсвечено имя каталога,
то Midnight Commander выполняет переход
.B chdir(2)
в выбранный каталог и отображает его содержимое в этой панели; если
подсвечен исполняемый файл, то он запускается на выполнение. Наконец,
если расширение подсвеченного в активной панели файла совпадает с одним
из расширений, указанных в
.\"LINK2"
файле расширений\&,
.\"Extension File Edit"
то выполняется команда, связанная с этим расширением.
.TP
.B C\-l
Обновляет всю информацию, отображаемую программой Midnight Commander.
.TP
.B C\-x c
Запускает команду
.\"LINK2"
Chmod
.\"Chmod"
для подсвеченного файла или группы отмеченных файлов.
.TP
.B C\-x o
Запускает команду
.\"LINK2"
Chown
.\"Chown"
для подсвеченного файла или группы отмеченных файлов.
.TP
.B C\-x l
Запускает команду создания жесткой ссылки.
.TP
.B C\-x s
Запускает команду создания абсолютной символической ссылки.
.TP
.B C\-x v
Запускает команду создания относительной символической ссылки.
Для более детальной информации о ссылках смотрите раздел
.\"LINK2"
.I Меню "Файл"
.\"File Menu"
.TP
.B C\-x i
Переводит пассивную панель в режим "Информация".
.TP
.B C\-x q
Переводит пассивную панель в режим быстрого просмотра.
.TP
.B C\-x !
Выполняется пункт меню
.\"LINK2"
"Критерий панелизации"\&.
.\"External panelize"
.TP
.B C\-x h
Добавить имя каталога в
.\"LINK2"
"Каталоги быстрого доступа"\&.
.\"Hotlist"
.TP
.B M\-!
Выполняет пункт меню "Просмотр вывода команды", который описан подробнее
в разделе
.\"LINK2"
"Меню "Файл"\&.
.\"File Menu"
.TP
.B M\-?
Вызов диалогового окна
.\"LINK2"
"Поиск файла"\&.
.\"Find File"
.TP
.B M\-c
Вызов диалогового окна
.\"LINK2"
"Быстрая смена каталога"\&.
.\"Quick cd"
.TP
.B C\-o
Если Midnight Commander запущен в консоли Linux или FreeBSD, или через
xterm, вам будет показан вывод предыдущей команды. При этом на
Linux\-консоли Midnight Commander использует встроенную программу
(cons.saver) для сохранения выводимой информации и демонстрации ее на
экране.
.PP
Если Midnight Commander скомпилирован с поддержкой подоболочки
(subshell), вы можете в процессе выполнения приложения из\-под Midnight
Commander в любой момент набрать C\-o и вернуться к главному экрану
Midnight Commander\-а. Для возврата к вашему приложению достаточно снова
набрать C\-o. Если вы застопорите выполнение приложения, использовав этот
прием, вы не сможете запустить других программ из Midnight Commander
пока отложенное приложение не закончит работу, либо пока вы не прервете
его выполнение.
.\"NODE "  Directory Panels"
.SH "  Панели каталогов"
В настоящем разделе перечисляются команды, которые позволяют оперировать
с содержимым панелей. Если вы хотите узнать, как изменить вид панели или
способ представления информации на панели, смотрите раздел
.\"LINK2"
Меню левой и правой панелей\&.
.\"Left and Right Menus"
.TP
.B Tab, C\-i
Сменить текущую (активную) панель. Подсветка перемещается с панели,
которая была активной ранее, в другую панель, которая становится
активной.
.TP
.B Insert, C\-t
Чтобы отметить файл, на который указывает в данный момент подсветка,
используйте клавишу Insert (the kich1 terminfo sequence). Для снятия 
отметки с файла используются те же комбинации.
.TP
.B M\-e
Чтобы поменять кодировку панели, используйте комбинацию M\-e (Alt\-e).
Перекодировка производится из выбранной кодировки в системную. Для отмены
перекодировки просто перейдите на каталог вверх '..'. Для отмены
перекодировки всех каталогов выберите "Без перекодировки" в диалоге
выбора кодировок.
.TP
.B M\-g, M\-r, M\-j
Используются для перемещения подсветки, соответственно, на самый
верхний, средний или нижний файл из числа отображаемых в данный момент
на панели.
.TP
.B M\-t
Циклически переключает режимы отображения списка файлов текущего
каталога. С помощью этой комбинации клавиш можно быстро переключаться из
режима стандартного вывода (long listing) к сокращенному или к режиму,
определяемому пользователем.
.TP
.B C\-\\\\ (control\-backslash)
Показать
.\"LINK2"
"Каталоги быстрого доступа"
.\"Hotlist"
и перейти к выбранному каталогу.
.TP
.B + (plus)
Эта клавиша используется для того, чтобы выбрать (отметить) группу
файлов по регулярному выражению, задающему эту группу. Когда включена
опция
.I Только файлы,
то выделены будут только файлы. Если опция
.I Только файлы,
отключена, то выделены будут как файлы, так и каталоги. Если включена опция
.I Образцы в стиле shell (Shell Patterns),
регулярные выражение строятся по тем же правилам, которые действуют в
оболочке shell (* означает ноль или большее число любых символов, а ?
заменяет один произвольный символ). Если опция
.I Образцы в стиле shell (Shell Patterns)
отключена, то пометка файлов производится по правилам обработки
нормальных регулярных выражений (смотрите ed (1)). Если включена опция
.I С учётом регистра
то пометка файлов и каталогов будет производиться с учетом регистра символов имён.
Если опция
.I С учётом регистра
отключена, то регистр символов учитываться не будет.
.PP
.B \\\\ (backslash)
Клавиша "\\" снимает отметку с группы файлов, то есть производит
действие, обратное тому, которое вызывается по клавише "+".
.TP
.B up\-key, C\-p
Перемещает подсветку на предыдущую позицию в списке файлов панели.
.TP
.B down\-key, C\-n
Перемещает подсветку на следующую позицию в списке файлов панели.
.TP
.B home, a1, M\-<
Перемещает подсветку на первую позицию списка файлов.
.TP
.B end, c1, M\->
Перемещает подсветку на последнюю позицию списка файлов.
.TP
.B next\-page, C\-v
Перемещает подсветку на одну страницу вниз.
.TP
.B prev\-page, M\-v
Перемещает подсветку на одну страницу вверх.
.TP
.B M\-o
Если выделенным элементом активной панели является каталог, установить
этот каталог текущим в неактивной панели и перейти к следующему файлу.
Если выделенным элементом активной панели является не каталог, установить
родительский каталог текущим в неактивной панели и также перейти к следующему
файлу.
.TP
.B M\-i
Сделать текущий каталог активной панели также текущим каталогом
неактивной панели.  Если необходимо, перевести неактивную панель в режим
отображения списка файлов.  Если активная панель находится в режиме
панелизации, неактивная панель в этот режим не переводится.
.TP
.B C\-PageUp, C\-PageDown
Только если mc запущен с консоли Linux: выполняется, соответственно,
переход (chdir) к родительскому каталогу ("..") или к выделенному
подсветкой каталогу.
.PP
.B M\-y
Перемещение к предыдущему каталогу из истории перемещения по каталогам;
эквивалентно нажатию мышкой на символ '<' в верхнем углу панели.
.TP
.B M\-u
Перемещение к следующему каталогу из истории перемещения по каталогам;
эквивалентно нажатию мышкой на символ '>'.
.TP
.B M\-S\-h, M\-H
Отображает историю перемещения по каталогам; эквивалентно нажатию мышкой
на символ 'v' в верхнем углу панели.
.\"NODE "  Quick search"
.SH "Быстрый поиск"
Режим быстрого поиска позволяет быстро найти нужный файл в каталоге,
отображённом в файловой панели, по первым символам имени.
Для перехода в режим быстрого поиска используются клавиатурные сочетания
.B C\-s
или
.B M\-s
.P
После нажатия одной из этих комбинаций вводимые символы отображаются не
в командной строке, а в строке поиска. Если режим
.I "Показ мини\-статуса"
включен, эта строка отображается на месте строки мини\-статуса. В
процессе ввода последующих символов линия подсветки перемещается к
следующему файлу, название которого начинается с введенной строки
символов. Клавиши
.I Backspace
или
.I DEL
могут использоваться для исправления ошибок. Если
.I C\-s
нажато снова, осуществляется поиск следующего подходящего файла.
.P
Если переход в режим быстрого поиска осуществляется двойным нажатием
C\-s, то в текущем поиске будет использоваться шаблон предыдущего поиска.
.P
Кроме обычных символов в имени файла также можно использовать
символы маски '*' и '?'.
.P
.\"NODE "  Shell Command Line"
.SH "  Командная строка оболочки"
В этом разделе перечислены команды, которые позволяют сократить число
нажатий на клавиши во время ввода и редактирования команд в командной
строке.
.PP
.B M\-Enter
Копирует подсвеченное имя файла или каталога в командную строку.
.PP
.B C\-Enter
То же самое, что M\-Enter, но работает только на консоли Linux.
.PP
.B M\-Tab
Пытается выполнить операцию
.\"LINK2"
Завершение ввода (completion)
.\"Completion"
имени файла, названия команды, переменной, имени пользователя или имени
машины (в зависимости от того, что вы начали набирать и какой элемент
команды вводите).
.PP
.B C\-x t, C\-x C\-t
Копирует в командную строку имена помеченных файлов (или подсвеченное
имя, если нет помеченных) из активной панели (C\-x t) или пассивной
панели (C\-x C\-T).
.PP
.B C\-x p, C\-x C\-p
Первая комбинация клавиш копирует в командную строку имя текущего
каталога, а вторая \- имя каталога, отображаемого в пассивной панели.
.PP
.B C\-q
Эта команда (the quote command) используется для того, чтобы вставить
символы, которые каким\-то образом интерпретируются самим Midnight
Commander\-ом (например, символ '+').
.PP
.B M\-p, M\-n
Эти комбинации используются для перемещения по истории команд. M\-p
вызывает перемещение на команду назад по списку ранее запускавшихся
команд, а M\-n \- перемещение на одну команду вперед.
.PP
.B M\-h
Выводит историю текущей строки ввода (для командной строки \- историю
команд).
.\"NODE "  General Movement Keys"
.SH "  Клавиши управления перемещением"
Встроенная программа просмотра файлов, программа просмотра подсказки и
программа просмотра каталогов используют один и тот же программный код
для управления перемещением. Следовательно, для перемещения используются
одни и те же комбинации клавиш. Но в каждой подпрограмме имеются и
комбинации, применяющиеся только в ней.
.PP
Другие части Midnight Commander\-а тоже используют некоторые из
комбинаций клавиш управления перемещением, так что настоящая секция
руководства может быть также полезна при изучении этих частей.
.PP
.B Up, C\-p
Перемещение на одну строку назад или вверх
.PP
.B Down, C\-n
Перемещение на одну строку вперед
.PP
.B Prev Page, Page Up, M\-v
Перемещение на одну страницу назад
.PP
.B Next Page, Page Down, C\-v
Перемещение на одну страницу вперед
.PP
.B Home, A1
Перемещение к началу.
.PP
.B End, C1
Перемещение к концу.
.PP
Программы просмотра файлов и помощи воспринимают в дополнение к
перечисленным еще и следующие комбинации:
.PP
.B b, C\-b, C\-h, Backspace, Delete
Перемещение на одну страницу назад
.PP
.B Space bar
Перемещение на одну страницу вперед
.PP
.B u, d
Перемещение на половину страницы назад или вперед.
.PP
.B g, G
Перемещение к началу или к концу файла.
.\"NODE "  Input Line Keys"
.SH "  Редактирование строк ввода"
Строки ввода (это не только
.\"LINK2"
командная строка
.\"Shell Command Line"
оболочки, но и строки в диалоговых окнах различных подпрограмм)
воспринимают следующие управляющие комбинации:
.PP
.B C\-a
Перемещает курсор в началу строки.
.PP
.B C\-e
Перемещает курсор в конец строки.
.PP
.B C\-b, стрелка\-влево
Перемещает курсор на одну позицию влево.
.PP
.B C\-f, стрелка\-вправо
Перемещает курсор на одну позицию вправо.
.PP
.B M\-f
Перемещает курсор на одно слово вперед.
.PP
.B M\-b
Перемещает курсор на одно слово назад.
.PP
.B C\-h, Backspace
Удаляет символ, предшествующий курсору.
.PP
.B C\-d, Delete
Удаляет символ в позиции курсора.
.PP
.B C\-@
Устанавливает метку для того, чтобы вырезать (скопировать в буфер) часть
текста.
.PP
.B C\-w
Копирует текст, расположенный между курсором и меткой, в буфер, удаляя
текст из строки ввода.
.PP
.B M\-w
Копирует текст, расположенный между курсором и меткой,
в буфер.
.PP
.B C\-y
Вставляет содержимое буфера в строку ввода перед позицией курсора.
.PP
.B C\-k
Удаляет текст от курсора до конца строки.
.PP
.B M\-p, M\-n
Эти комбинации используются для перемещения по истории команд. M\-p
перемещает к предыдущей команде, M\-n \- к следующей.
.PP
.B M\-C\-h, M\-Backspace
Удалить предшествующее слово.
.PP
.B M\-Tab
Пытается выполнить
.\"LINK2"
завершение ввода (completion)
.\"Completion"
имени файла, команды, переменной, имени пользователя или имени машины.
.\"NODE "Menu Bar"
.SH "Главное меню программы Midnight Commander"
Строка главного меню появляется в верхней части экрана после нажатия
клавиши F9 или щелчка мыши по верхней рамке экрана. Меню состоит из пяти
пунктов: "Левая", "Файл", Команды", Настройки" и "Правая" (в английской
версии соответственно "Left", "File", "Command", "Options" и "Right").
При выборе одного из этих пунктов появляется соответствующее выпадающее
меню.
.PP
Пункты меню
.\"LINK2"
"Левая" и "Правая " ("Верхняя" и "Нижняя")
.\"Left and Right Menus"
позволяют изменить вид, соответственно, левой и правой (или верней и нижней)
панелей и характер отображаемой в панели информации, в частности, выполнить
соединения с удаленными компьютерами.
.PP
Меню
.\"LINK2"
"Файл"
.\"File Menu"
позволяет выполнить какие\-то действия с выбранным файлом или группой
помеченных файлов.
.PP
Меню
.\"LINK2"
"Команды"
.\"Command Menu"
перечисляет действия, которые имеют более общий характер и не относятся
только к выделенному в данный момент файлу или группе помеченных файлов.
.PP
Меню
.\"LINK2"
"Настройки"
.\"Options Menu"
служит для задания ряда параметров, определяющих внешний вид и поведение
программы Midnight Commander. Один из пунктов этого меню служит для
сохранения настроек, заданных пользователем.
.\"NODE "  Left and Right Menus"
.SH "Меню левой и правой (или верхней и нижней) панелей"
Вид панелей, в которых отображаются списки файлов и каталогов, может
быть изменен через пункты меню
.B "Левая" (или "Верхняя")
и
.B "Правая" (или "Нижняя").
.\"NODE "    Listing Mode..."
.SH "    Формат списка..."
Этот пункт меню предназначен для определения формата вывода списка
файлов в панели. Вы можете выбрать один из 4 вариантов представления
списка файлов:
.BR "Стандартный" ,
.BR "Укороченный" ,
.B Расширенный
и
.BR "Определяемый пользователем" .
.PP
В стандартном формате отображаются имя файла, его размер и время
последней модификации.
.PP
В укороченном (brief) формате отображаются только имена файлов, за счет
чего на панели умещаются две колонки (и видно вдвое больше имен).
.PP
В расширенном (long) формате содержимое каталога представляется так, как
это делает команда
.BR "ls \-l" .
В этом формате панель занимает весь экран.
.PP
Если вы выберете формат "Определяемый пользователем" ("User"), вы должны
будете задать структуру отображаемой информации.
.PP
При задании структуры вначале указывается размер панели: "half"
(половина экрана) или "full" (весь экран).
.PP
После размера панели можно указать, что на панели должно быть две
колонки. Это делается добавлением цифры 2 в строку задания формата.
.PP
Далее надо перечислить имена полей с необязательным параметром ширины
поля. В качестве имен полей могут использоваться:
.TP
.B name
отображать имя файла.
.TP
.B size
отображать размер файла.
.TP
.B bsize
отображать размер в альтернативной форме, при которой выводятся размеры
файлов, а для каталогов выводится только надпись "ПОД\-КАТ" ("SUB\-DIR")
или "ВВЕРХ" ("UP\-\-DIR").
.TP
.B type
отображать односимвольное поле типа. Этот символ может принимать
значения из подмножества символов, выводимых командой
.BR "ls \-F" :
.B *
(asterisk) для исполняемых файлов,
.B /
(slash) для каталогов,
.B @
(at\-sign) для ссылок (links),
.B =
(знак равенства) для сокетов (sockets),
.B \-
дефис (hyphen) для байт\-ориентированных устройств,
.B +
для блок\-ориентированных устройств,
.B |
(pipe) для файлов типа FIFO,
.B ~
(тильда) для символических ссылок на каталоги,
.B !
(восклицательный знак) для оборванных (stale) символических ссылок
(ссылок, указывающих в никуда).
.TP
.B mark
Звездочка (asterisk) если файл помечен, пробел \- если не помечен.
.TP
.B mtime
время последней модификации файла.
.TP
.B atime
время последнего доступа к файлу.
.TP
.B ctime
время последнего изменения файла.
.TP
.B perm
строка, показывающая текущие права доступа к файлу.
.TP
.B mode
восьмеричное представление текущих прав доступа к файлу.
.TP
.B nlink
число ссылок на данный файл.
.TP
.B ngid
идентификатор группы (GID, в цифровой форме).
.TP
.B nuid
идентификатор пользователя (UID, в цифровой форме).
.TP
.B owner
владелец файла.
.TP
.B group
группа, имеющая права на файл.
.TP
.B inode
номер inode файла.
.PP
Вы также можете использовать следующие имена полей для организации
вывода информации на дисплей:
.TP
.B space
Вставить пробел при выводе на дисплей.
.TP
.B |
Вставить вертикальную линию при выводе на дисплей.
.PP
Для того, чтобы задать фиксированную ширину поля, нужно добавить
двоеточие ':', после которого указать число позиций, которое отводится
под это поле. Если после числа поставить символ '+', то указанное число
будет интерпретироваться как минимальная ширина поля, и, если экран
позволяет, поле будет расширено.
.PP
Например,
.B Стандартный
формат вывода задается строкой:
.PP
half type name | size | mtime
.PP
а
.B Расширенный
\- строкой:
.PP
full perm space nlink space owner space group space size space mtime
space name
.PP
А вот пример удобного формата, определяемого пользователем:
.PP
half name | size:7 | type mode:3
.PP
Помимо того, что может задаваться формат вывода на панель списка файлов,
любую панель можно перевести в один из следующих режимов:
.TP
.B Информация
В этом режиме на панель выводится информация о подсвеченном в другой
панели файле и о текущей файловой системе (тип, свободное пространство и
число свободных inode).
.TP
.B Дерево
Режим отображения дерева каталогов подобен тому, который вы увидите,
выбрав пункт
.\"LINK2"
Дерево каталогов
.\"Directory Tree"
из меню "Команды" ("Commands"). Смотрите соответствующий раздел.
.TP
.B Быстрый просмотр
В этом режиме панель переключается на отображение содержимого файла,
подсвеченного в другой панели. Для вывода используется встроенная
.\"LINK2"
программа просмотра файлов\&,
.\"Internal File Viewer"
так что, если переключиться клавишей Tab в панель просмотра, вы сможете
использовать все команды управления просмотром.
.\"NODE "    Sort Order..."
.SH "Порядок сортировки..."
Отображение списка файлов в любой из панелей может производиться в
соответствии с одним из восьми порядков сортировки:
.nf
\- по имени;
\- по расширению;
\- по размеру файла;
\- по времени модификации;
\- по времени последнего обращения к файлу;
\- по времени последнего изменения атрибутов файла;
\- по номеру узла (inode);
\- без сортировки.
.fi
.PP
Порядок сортировки можно выбрать, вызвав диалоговое окно, в котором
кроме того можно указать, что сортировка производится в обратном
порядке (поставив с помощью клавиши пробела отметку в скобках возле
слова "Обратный (reverse)".
.PP
По умолчанию каталоги отображаются в начале списка, но это можно
изменить, проставив отметку возле опции
.B "Смешивать файлы и каталоги"
пункта меню
.\"LINK2"
Настройки панелей\&.
.\"Panel options"
.\"NODE "    Filter..."
.SH "    Фильтр..."
Пункт меню "Фильтр" позволяет задать шаблон, которому должны
соответствовать имена файлов, отображаемых в панели (например,
.BR "*.tar.gz" ).
Имена каталогов и ссылки на каталоги отображаются всегда, независимо от
шаблона.
.\"NODE "    Reread"
.SH "    Перечитать"
Команда "Перечитать" обновляет список, отображаемый на панели. Это
бывает полезно в тех случаях, когда другие процессы создают или удаляют
файлы.
.\"NODE "  File Menu"
.SH "  Файл"
Программа Midnight Commander использует функциональные клавиши F1 \- F10
как "горячие" клавиши для команд, включенных в меню "Файл".
Escape\-последовательности, генерируемые клавишами F1\-F10, соответствуют
функциям terminfo kf1 \- kf10. На терминалах без поддержки функциональных
клавиш можно достичь аналогичного эффекта, нажав клавишу ESC, а
затем число в диапазоне от 1 до 9 или 0 (соответствует F1 \- F9 и F10).
.PP
Меню "Файл" содержит следующие команды (соответствующие "горячие"
клавиши указываются в скобках):
.PP
.B Просмотр файла
.PP
Просмотреть файл, на который указывает подсветка. По умолчанию при этом
вызывается
.\"LINK2"
встроенная программа просмотра\&,
.\"Internal File Viewer"
но, сняв отметку с опции "Встроенный просмотр" ("Use internal view") в
пункте "Конфигурация" меню "Настройки" ("Options"), можно вызывать
внешнюю программу просмотра, путь к которой должен быть указан в
переменной окружения
.BR PAGER .
Если переменная
.B PAGER
не определена, вызывается встроенная программа. Если вместо F3 нажать
F13, встроенная программа просмотра не выполняет предварительного
форматирования или обработки файла.
.P
В разделе
.\"LINK2"
Параметры для внешних редакторов и программ просмотра
.\"Parameters for external editor or viewer"
описано, как можно задать параметры командной строки для внешних программ
просмотра файлов.
.PP
.B Просмотр вывода команды
.PP
По этой команде на экране появляется строка ввода, в которой вы можете
ввести любую команду с параметрами (по умолчанию предлагается
использовать в качестве параметра имя подсвеченного файла). Вывод этой
команды будет отображаться на экране через встроенную программу
просмотра.
.PP
.B Редактирование
.PP
Вызывается редактор
.BR vi ,
либо редактор, указанный в переменной окружения
.BR EDITOR ,
либо
.\"LINK2"
встроенный редактор файлов
.\"Internal File Editor"
(если включена опция "Встроенный редактор"
.I (use_internal_edit)
в меню "Настройки / Конфигурация"). 
.P
В разделе
.\"LINK2"
Параметры для внешних редакторов и программ просмотра
.\"Parameters for external editor or viewer"
описано, как можно задать параметры командной строки для внешних редакторов.
.PP
.B Копирование
.PP
Вызывается диалоговое окно, в котором предлагается скопировать
подсвеченный файл из каталога, отображаемого в активной панели (или
группу отмеченных файлов, если в активной панели отмечен хотя бы один
файл) в каталог, отображаемый в пассивной панели. Имя каталога, в
который будет производиться копирование, можно изменить. Можно
предварительно резервировать место под новые файлы в каталоге назначения,
выставив конфигурационную опцию preallocate_space.
О том, как
задать шаблон для имен копируемых файлов (обычно это * или ^\\(.*\\)$, в
зависимости от установки опции
.I Образцы в стиле shell (Shell Patterns),
и о допустимых символах замены (wildcards) в строке целевого каталога вы
можете узнать, просмотрев раздел
.\"LINK2"
Маски файлов для операций копирования/переименования\&.
.\"Mask Copy/Rename"
.PP
В процессе выполнения копирования можно нажать
.B C\-c
или
.B ESC
для того, чтобы прервать выполнение операции.
.PP
В некоторых системах можно осуществлять копирование в фоновом режиме,
если запустить процесс не кнопкой <Дальше> диалогового окна, а кнопкой
<На фоне> (или нажав
.B M\-b
в диалоговом окне). Используя пункт меню
.\"LINK2"
"Команды/Фоновые задания"\&,
.\"Background Jobs"
можно управлять выполнением фоновых процессов.
.PP
.B Права доступа
.PP
Позволяет изменить права доступа к выделенному или помеченным файлам.
.PP
.B Жесткая ссылка
.PP
Создает жесткую ссылку на текущий файл.
.PP
.B Абсолютная символическая ссылка
.PP
Создает абсолютную символическую ссылку на текущий файл.
.PP
.B Относительная символическая ссылка
.PP
Создает относительную символическую ссылку на текущий файл.
.PP
Если вы не знаете, что такое ссылки: создание ссылки в некотором смысле
подобно копированию файла, но и исходное имя файла и ссылка указывают
на один и тот же реальный файл на диске. Поэтому, если вы, например,
редактируете файл, то изменения будут появляться в обеих копиях. Синонимами
термина "ссылка" (link) являются термины "алиас" (alias) и "ярлык" (shortcut).
.PP
Жесткая ссылка выглядит как реальный файл. После создания жесткой ссылки
невозможно различить, где исходный файл, а где ссылка. Если вы удаляете
один из этих файлов (точнее одно из этих имен), то файл еще сохраняется
на диске (пока у него есть хоть одно имя\-ссылка). Очень трудно различить
первоначальное имя файла и позже созданные жесткие ссылки на него.
Поэтому жесткие ссылки применяются там, где отслеживать различия и не
требуется.
.PP
Символическая ссылка \- это ссылка на имя исходного файла. Если исходный
файл удален, символическая ссылка становится бесполезной. Символическую
ссылку легко отличить от первоначального имени файла, и программа
Midnight Commander указывает символические ссылки, выводя знак "@" перед
именем такой ссылки (кроме ссылок на каталоги, которые обозначаются
знаком тильды "~"). Если на экран выводится строка мини\-статуса (опция
"Показывать мини\-статус" ("Show mini\-status") включена), то в ней
отображается имя исходного файла. Используйте символические ссылки в тех
случаях, когда хотите избежать путаницы, связанной с применением жестких
ссылок.
.PP
Когда вы нажимаете клавиатурное сочетание "C\-x s", Midnight Commander
автоматически заполняет поля диалога создания ссылки: имя ссылки и имя файла,
на который будет указывать ссылка. Вы можете изменить их.
.PP
Но иногда требуется, чтобы ссылка указывала на файл не по абсолютному пути,
а по относительному. Абсолютный путь начинается с корневого каталога:
.PP
.I /home/frodo/mc/mc \-> /home/frodo/new/mc
.PP
Относительный путь указывает на расположение файла относительно места, где
будет располагаться создаваемая ссылка:
.PP
.I /home/frodo/mc/mc \-> ../new/mc
.PP
Для того, чтобы создать относительную символическую ссылку, используйте
клавиатурное сочетание "C\-x v" вместо "C\-x s".
.PP
.B Владелец/группа
.PP
Позволяет выполнить команду chown.
.PP
.B Права (расширенные)
.PP
Позволяет изменить права доступа и владения файлом.
.PP
.B Переименование
.PP
Вызывается диалоговое окно, в котором предлагается перенести
подсвеченный файл из каталога, отображаемого в активной панели (или
группу отмеченных файлов, если в активной панели отмечен хотя бы один
файл) в каталог, отображаемый в пассивной панели. Имя каталога, в
который будет производиться перенос, можно изменить, воспользовавшись
соответствующей строкой ввода.
.PP
В остальном диалоговое окно аналогично окну, появляющемуся при вызове
команды копировании файлов (смотрите выше).
.PP
.B Создание каталога
.PP
Появляется диалоговое окно и создается каталог с введенным именем.
.PP
.B Удаление
.PP
Удаляется файл, имя которого подсвечено (или группа файлов, имена
которых помечены) в активной панели. Операцию можно прервать, нажав
.B C\-c
или
.B ESC
во время ее исполнения.
.PP
.B Быстрая смена каталога
.\"    Quick cd"
.PP
Используйте
.\"LINK2"
быструю смену каталога
.\"The cd internal command"
если вы знаете полный путь к каталогу, в который хотите перейти (который
хотите сделать текущим).
.PP
.B Отметить группу
.PP
Эта команда используется для отметки группы файлов по заданному шаблону.
Midnight Commander выдаст диалоговое окно, в которой надо задать опции
выделения группы файлов и каталогов. Если включена опция
.I Только файлы,
то выделены будут только файлы. Если опция
.I Только файлы,
отключена, то выделены будут как файлы, так и каталоги. Если включена опция
.I Образцы в стиле shell (Shell Patterns),
регулярные выражение строятся по тем же правилам, которые действуют в
оболочке shell (* означает ноль или большее число любых символов, а ?
заменяет один произвольный символ). Если опция
.I Образцы в стиле shell (Shell Patterns)
отключена, то пометка файлов производится по правилам обработки
нормальных регулярных выражений (смотрите ed (1)). Если включена опция
.I С учётом регистра
то пометка файлов и каталогов будет производиться с учетом регистра символов имён.
Если опция
.I С учётом регистра
отключена, то регистр символов учитываться не будет.
.PP
.B Снять отметку
.PP
Используется для снятия отметки с группы файлов. Эта операция является
обратной по отношению к операции отметки группы файлов и использует те
же правила формирования шаблонов.
.PP
.B Выход
.PP
Выйти из программы Midnight Commander. Shift\-F10 используется для выхода
в тех ситуациях, когда используется shell wrapper. После Shift\-F10
текущим каталогом будет не последний каталог, в котором вы были при
работе в Midnight Commander, а тот, в котором вы были, когда запустили
Midnight Commander.
.\"NODE "    Quick cd"
.SH "    Быстрая смена каталога"
Эта команда полезна тогда, когда вы знаете полный путь к каталогу,
который хотите сделать текущим, и желаете использовать встроенную
команду
.\"LINK2"
cd\&.
.\"The cd internal command"
.PP
По этой команде вызывается диалоговое окно, в строке ввода которого вы
должны ввести тот путь, который вы ввели бы в командной строке оболочки
при выполнении команды
.B cd.
.PP
После этого надо нажать клавишу <Enter>.
.\"NODE "  Command Menu"
.SH "  Меню 'Команды'"
.B Меню пользователя
.PP
Вызывает
.\"LINK2"
меню пользователя\&.
.\"Menu File Edit"
Меню пользователя предоставляет простой способ расширения возможностей
Midnight Commander за счет добавления в личное меню пользователя вызова
часто используемых программ.
.PP
При обращении к пункту меню
.\"LINK2"
.I "Дерево каталогов"
.\"Directory Tree"
выводится окно, отображающее структуру каталогов файловой системы.
.PP
Команда
.\"LINK2"
.I "Поиск файла"
.\"Find File"
позволяет найти на диске файл с заданным именем. "Горячие" клавиши \-
.BR M\-? .
.PP
Команда
.I "Переставить панели"
меняет местами содержимое правой и левой панелей. "Горячие" клавиши \-
.BR C\-u .
.PP
По команде
.I "Отключить панели"
показывается вывод последней из выполнявшихся команд облочки. Эта команда
работает только через xterm и на консоли Linux и FreeBSD. "Горячие" клавиши \-
.BR C\-o .
.PP
По команде
.I "Сравнить каталоги"
("горячие" клавиши \-
.BR "C\-x d" )
сравнивается содержимое каталогов, отображаемых на левой и правой
панелях. После сравнения можно воспользоваться командой
.I "Копировать"
для того, чтобы сделать содержимое каталогов одинаковым. Существует
три метода сравнения. При быстром методе сравниваются только размер и
дата создания файлов с одинаковыми именами. При побайтном методе
сравнивается содержимое файлов (побайтно). Этот метод недоступен, если
машина не поддерживает системный вызов mmap(2). При сравнении по размеру
сравниваются только размеры соответствующих файлов, а дата создания не
проверяется.
.PP
Пункт меню
.\"LINK2"
.I "Внешняя панелизация"
.\"External panelize"
позволяет выполнить внешнюю программу, сделав ее вывод содержимым
текущей панели (характерный пример \- панелизация вывода команды find).
.PP
Пункт меню
.I "История командной строки"
выводит окно со списком ранее выполнявшихся
команд. Подсвеченную строку из истории можно скопировать в командную
строку оболочки (перемещение подсветки \- стрелками вверх/вниз,
копирование \- по клавише Enter). Доступ к истории команд можно получить
также по комбинациям клавиш
.B M\-p
или
.BR M\-n ,
однако в этом случае вы не видите окна с перечнем команд. Вместо этого в
командную строку выводится одна команда из списка и по комбинации
.B M\-p
происходит смена этой команды на предыдущую, а по
.B M\-n
\- на следующую команду из истории команд.
.PP
Пункт меню
.\"LINK2"
.I "Каталоги быстрого доступа"
.\"Hotlist"
позволяет создать список каталогов, которые часто используются, и
обеспечить быстрый переход к нужному каталогу из этого списка.
.PP
Пункт меню
.I "Список активных ВФС"
отображает список виртуальных файловых систем, активных на настоящий
момент. Можно перейти на выбранную виртуальную файловую систему. Для
Обновления списка выберите кнопку "Освежить" в диалоговом окне.
Кнопка "Освободить ВФС сейчас" поможет при обновлении содержимого
архива или при разорванном сетевом соединении.
.PP
Пункт меню
.\"LINK2"
.I "Фоновые задания"
.\"Background Jobs"
отображает список фоновых заданий, запущенных в диалоге 
копирования/перемещения кнопкой "В фоне".
.PP
Пункт меню
.\"LINK2"
.I "Список экранов"
.\"Screen selector"
отображает диалоговое окно со списком одновременно работающих в данный
момент встроенноых редакторов, программ просмотра и других модулей MC,
поддерживающих такой режим работы.
.PP
После выбора пункта меню
.\"LINK2"
.I "Файл расширений"
.\"Extension File Edit"
вы можете связать с определенным расширением файла (окончанием имени
после последней точки) программу, которая будет запускаться для
обработки (просмотра, редактирования или выполнения) файла с таким
расширением. Запуск выбранной программы будет осуществляться после
установки подсветки на имя файла и нажатия клавиши <Enter>.
.PP
Пункт меню
.\"LINK2"
.I "Файл меню"
.\"Menu File Edit"
используется для редактирования пользовательского меню (которое
появляется после нажатия клавиши F2).
.\"NODE "    Directory Tree"
.SH "    Дерево каталогов"
После выбора пункта меню "Дерево каталогов" появляется окно, в котором
отображена иерархическая структура каталогов.
.PP
Дерево каталогов может быть вызвано двумя способами: через пункт "Дерево
каталогов" из меню "Команды" и пункт "Дерево" из меню правой или левой
панелей.
.PP
Чтобы избавиться от долгих задержек во время создания дерева каталогов,
Midnight Commander создает дерево путем просмотра только небольшого
подмножества всех каталогов. Если каталог, который вам нужен, не
отображен, перейдите в его родительский каталог и нажмите
.B C\-r
(или
.BR F2 ).
.PP
Для управления просмотром дерева каталогов могут использоваться
следующие комбинации клавиш:
.PP
Работают все
.\"LINK2"
клавиши управления перемещением\&.
.\"General Movement Keys"
.PP
.B Enter
В окне просмотра дерева каталогов нажатие этой клавиши вызывает выход из
режима просмотра и отображение списка файлов выбранного каталога в
активной панели. При отображении дерева каталогов в одной из панелей при
нажатии клавиши Enter соответствующий каталог отображается во второй
панели, а на текущей панели остается дерево.
.PP
.B C\-r, F2
Перечитать содержимое каталога. Используется в тех случаях, когда дерево
каталогов не соответствует реальной структуре: некоторые каталоги не
показаны или показаны более не существующие.
.PP
.B F3
Удалить текущий каталог из дерева. Эта команда используется для удаления
ошибочно отображаемых ветвей дерева. Если вам необходимо вернуть
подкаталог в дерево, перейдите в его родительский каталог и нажмите
клавишу F2.
.PP
.B F4
Переключение между статическим (применяемым по умолчанию) и динамическим
режимами перемещения по дереву.
.PP
В статическом режиме перемещения для выбора каталога (т.е. перемещения
подсветки на имя другого каталога) используются только стрелки
вверх/вниз. Показываются все известные программе на данный момент
подкаталоги.
.PP
В динамическом режиме стрелки вверх/вниз используются для перехода на
соседний каталог того же уровня. Для перехода в родительский каталог
используется клавиша "стрелка влево", а по стрелке вправо происходит
переход к потомкам текущего каталога, то есть на один уровень ниже. При
этом отображаются только вышележащие каталоги (включая родительский и
выше), соседние каталоги того же уровня и непосредственные потомки. Вид
дерева каталогов динамически изменяется после каждого перемещения по
дереву.
.PP
.B F5
Копировать подкаталог (появляется строка ввода, в которой надо указать,
куда копировать).
.PP
.B F6
Переместить подкаталог.
.PP
.B F7
Создать подкаталог в текущем (подсвеченном) каталоге.
.PP
.B F8
Удалить подсвеченный каталог из файловой системы.
.PP
.B C\-s, M\-s
Найти следующий каталог, соответствующий заданному шаблону поиска. Если
такого каталога не существует, происходит просто смещение подсветки на
одну строку вниз.
.PP
.B C\-h, Backspace
Удаляет последний символ в строке (шаблоне) поиска.
.PP
.B Любой другой символ
Этот символ добавляется в шаблон поиска и производится перемещение на
имя следующего каталога, удовлетворяющее шаблону. В режиме просмотра
дерева каталогов вначале необходимо активизировать режим поиска
клавишами
.BR C\-s .
Шаблон поиска будет отображаться в строке мини\-статуса.
.PP
Следующие действия возможны только в окне просмотра дерева каталогов и
не поддерживаются при просмотре дерева в одной из панелей:
.PP
.B F1 (Help)
Вызов подсказки с отображением настоящего раздела помощи.
.PP
.B Esc, F10
Выход из окна дерева каталогов. Смены текущего каталога не происходит.
.PP
В окне просмотра дерева каталогов поддерживается мышка. Двойной щелчок
аналогичен нажатию клавиши Enter. Смотрите также секцию о
.\"LINK2"
поддержке мыши\&.
.\"Mouse Support"
.\"NODE "    Find File"
.SH "    Поиск файлов"
После выбора пункта меню "Поиск файла" появляется диалоговое окно, в котором
запрашивается имя искомого файла и имя каталога, с которого необходимо начинать
поиск. Нажав кнопку <Дерево>, можно выбрать начальный каталог поиска из
.\"LINK2"
дерева каталогов\&.
.\"Directory Tree"
.PP
Опция \"Только целые слова\" устанавливает, что шаблон поиска
соответствует только целым словам (например, если указано \"foo\",
не будет найдено слово \"foobar\").
.PP
Для того, чтобы начать поиск, нажмите экранную кнопку <Дальше>.
Во время поиска его можно приостановить кнопкой <Приостановить>
и продолжить по кнопке <Продолжить>.
.PP
Список найденных файлов можно просматривать, перемещаясь с помощью
клавиш "стрелка вверх" и "стрелка вниз". Кнопка <Перейти>
используется для перехода в каталог, в котором находится подсвеченный
файл. Кнопка <Повтор> служит для задания параметров нового
поиска. Кнопка <Выход> служит для выхода из режима поиска.
Нажатие на кнопку <Панелизация> приведет к тому, что
результаты поиска будут отображены на текущую активную панель, так что
вы можете производить с выбранными файлами еще какие\-то действия
(просматривать, копировать, перемещать, удалять и так далее). После
вывода на панель можно нажать
.B C\-r
для возврата к обычному списку файлов.
.PP
Опция \"Разрешить игнорирование каталогов\" совместно с расположенным ниже
полем ввода позволяет задать список каталогов, которые нужно пропускать при
поиске (например, вы знаете, что искомого файла нет на CDROM или не хотите
искать в каталогах, подключенных через NFS по очень медленному каналу).
Компоненты списка должны быть разделены двоеточиями. Например
.PP
.nf
/cdrom:/nfs/wuarchive:/afs
.fi
.PP
Относительные пути также поддерживаются. Следующий пример показывает, как
при поиске пропускать специальные каталоги различных систем управления версиями:
.nf
/cdrom:/nfs/wuarchive:/afs:.svn:.git:CVS
.fi
.PP
Внимание: поле ввода может содержать точку (.), это означает текущий абсолютный путь.
.PP
Вы можете использовать перенаправление вывода на панель
(см.
.\"LINK2"
Критерий панелизации\&)
.\"External panelize"
для выполнения некоторых усложненных последовательностей действий, в то
время как "Поиск файла" позволяет выполнять только простые запросы.
.\"NODE "    External panelize"
.SH "    Критерий панелизации"
Пункт меню "Критерий панелизации" (который правильнее было бы назвать
"Перенаправление вывода на панель") позволяет выполнить внешнюю
программу и отобразить вывод этой программы на текущей активной панели.
.PP
Например, если вы хотите выполнить какое\-то действие над всеми
символическими ссылками текущего каталога, вы можете использовать пункт
"Критерий панелизации" для запуска следующей команды:
.PP
.nf
find . \-type l \-print
.fi
.PP
После выполнения этой команды в текущей панели будет отображено не
содержимое соответствующего каталога, а только все символические ссылки,
в нем расположенные.
.PP
Если вы хотите вывести на панель все файлы, которые были скачаны с
вашего FTP\-сайта, вы можете использовать следующую команду для
извлечения нужных имен из файла протокола:
.PP
.nf
awk '$9 ~! /incoming/ { print $9 }' < /var/log/xferlog
.fi
.PP
Если вы захотите, то можете сохранить часто используемые команды
панелизации под отдельными информативными именами, чтобы иметь
возможность их быстро вызвать по этим именам. Для этого нужно набрать
команду в строке ввода и нажать кнопку <Добавить>. После этого вам
потребуется ввести имя, по которому вы будете вызывать команду. В
следующий раз вам достаточно будет выбрать нужное имя из списка, а не
вводить всю команду заново.
.\"NODE "    Hotlist"
.SH "    Каталоги быстрого доступа"
Пункт меню "Каталоги быстрого доступа" служит для вывода списка меток
(условных имен), присвоенных наиболее часто используемым каталогам. Этот
список можно использовать для быстрого перехода в нужный каталог.
Пользуясь диалоговым окном "Каталоги быстрого доступа", вы можете добавить
новую метку в список или удалить ранее созданную пару метка/каталог. Для
добавления метки можно также использовать комбинацию клавиш
.B C\-x h,
по которой текущий каталог добавляется в каталоги быстрого доступа.
Программа выдаст запрос на ввод метки для этого каталога.
.PP
Использование этого пункта меню обеспечивает более быстрый переход к
часто используемым каталогам. Другим способом ускорения процедуры
переключения на часто используемые каталоги является задание переменной
CDPATH (смотрите описание
.\"LINK2"
встроенной команды cd\&.
.\"The cd internal command"
.\"NODE "    Extension File Edit"
.SH "    Файл расширений"
Этот пункт меню "Команда" служит для вызова редактора и редактирования
файла
.BR ~/.config/mc/mc.ext .
Этот файл имеет следующий формат (формат был изменен в версии 3.0):
.PP
Все строки, начинающиеся с # или пустые строки игнорируются.
.PP
Строки, начинающиеся с первой колонки (будем говорить, что с таких строк
начинаются секции файла расширений), должны иметь следующий формат:
.PP
.IR keyword/desc ,
т.е. все, что стоит после
.I keyword/
и до конца строки, интерпретируется как
.I desc.
.PP
В качестве keyword может стоять одно из следующих слов:
.TP
.I shell
если desc начинается с точки (мета\-символы не допускаются), то desc \-
это расширение имени файла, т.е. шаблону соответствуют все файлы,
оканчивающиеся на desc.  Пример: .tar будет означать *.tar.  Если desc
не начинается с точки, то desc трактуется как полное имя файла.
.TP
.I regex
desc \- регулярное выражение. Обратите внимание на то, что используется
библиотека GNU regex, в силу чего "\\|" соответствует просто символу
"|", а "|" имеет специальное значение (логическое ИЛИ). Аналогично,
вместо скобок "(" и ")" надо использовать "\\(" и "\\)".
.TP
.I directory
Файл является каталогом и его имя соответствует регулярному выражению desc.
.TP
.I type
в этом случае выбираются такие файлы, для которых `file %f`
соответствует регулярному выражению desc (часть filename: из `file %f`
удалена).
.TP
.I default
подходит любой файл, независимо от того, какое значение принимает desc.
.TP
.I include
\- означает общую секцию.
.PP
Все строки в секции, кроме первой, должны начинаться с пробела или
символа табуляции и иметь следующий формат:
.PP
.I keyword=command
(без пробелов возле "="), где
.I keyword
должно быть:
.PP
.I Open
(строка задает действия, выполняемые в том случае, когда пользователь
нажимает Enter или дважды щелкает мышкой по имени файла),
.I View
(F3),
.I Edit
(F4) или
.I Include
(для добавления правил из общей секции).
.PP
.I command
\- любая однострочная команда оболочки, в которой допускаются простые
.\"LINK2"
макроподстановки\&.
.\"Macro Substitution"
.PP
Действие вычисляется сверху вниз (таким образом порядок следования
важен). Если некоторое действие пропущено, поиск продолжается как в
случае, если это действие не соответствует условию. Другими словами если
файл соответствует первой и второй секции, но действие View пропущено в
первой секции, то при нажатии клавиши F3 будет использовано действие
View из второй секции. default должно описывать все действия.
.\"NODE "    Background Jobs"
.SH "    Фоновые задания"
Этот пункт меню позволяет вам управлять фоновыми заданиями, запущенными
из Midnight Commander (такими заданиями могут быть только операции
копирования и перемещения файлов). Используя этот пункт меню или
"горячие" клавиши
.B C\-x j,
вы можете остановить, возобновить или снять любое из фоновых заданий.
.\"NODE "    Menu File Edit"
.SH "    Редактирование файлов меню"
Файлы меню содержат списки команд для выполнения часто повторяемых
пользователем операций. Эти меню создаются и поддерживаются самими
пользователями. Могут быть созданы три файла меню: в текущем каталоге, в
домашнем каталоге пользователя и общесистемный. Когда вы нажимаете
клавишу F2 для вызова меню, Midnight Commander вначале ищет файл
.B .mc.menu
в текущем каталоге и отображает соответствующее меню (если находит и
если владельцем этого файла является данный пользователь или root и этот
файл не доступен на запись всем). Если такого файла не найдено, таким же
образом ищется файл
.BR ~/.config/mc/menu ,
и в последнюю очередь mc использует общесистемное меню
.BR %prefix%/share/mc/mc.menu .
.PP
Формат всех трех файлов меню одинаков и очень прост. Строки комментариев
начинаются с '#'. Дополнительные комментарии должны начинаться с '#',
пробела или символа табуляции. Строки, начинающиеся с любого символа,
отличного от пробела и символа табуляции, интерпретируются как названия
пунктов меню, причем если первый символ является буквой или цифрой, то
соответствующая клавиша будет служить "горячей" клавишей для вызова
этого пункта меню. Строки, начинающиеся с пробела или символа табуляции,
интерпретируются как команды, которые должны выполняться при вызове
соответствующего пункта меню. Эти строки должны следовать за строкой
названия и их может быть несколько.
.PP
Когда пользователь выбирает какой\-то пункт меню, соответствующие
командные строки копируются во временный файл во временном каталоге
(обычно /usr/tmp) и затем этот файл запускается на выполнение. Это
позволяет пользователю вставлять в команды меню любые конструкции,
допустимые в командном языке оболочки. Можно также использовать
макроподстановки, которые производятся перед выполнением кода меню
(подробнее смотрите в секции
.\"LINK2"
Макроподстановки\&).
.\"Macro Substitution"
.PP
Вот пример файла mc.menu:
.PP
.nf
A	Dump the currently selected file
	od \-c %f

B	Edit a bug report and send it to root
	I=`mktemp ${MC_TMPDIR:\-/tmp}/mail.XXXXXX` || exit 1
	vi $I
	mail \-s "Midnight Commander bug" root < $I
	rm \-f $I

M	Read mail
	emacs \-f rmail

N	Read Usenet news
	emacs \-f gnus

H	Call the info hypertext browser
	info

J	Copy current directory to other panel recursively
	tar cf \- . | (cd %D && tar xvpf \-)

K	Make a release of the current subdirectory
	echo \-n "Name of distribution file: "
	read tar
	ln \-s %d `dirname %d`/$tar
	cd ..
	tar cvhf ${tar}.tar $tar

= f *.tar.gz | f *.tgz & t n
X	Extract the contents of a compressed tar file
	tar xzvf %f
.fi
.PP
.B Условия выполнения (Default Conditions)
.PP
Каждому пункту меню может предшествовать условие. Строка, задающая
условие, должна содержать символ '=' в первой колонке. Команды,
задаваемые этим пунктом меню, будут выполняться только если условие
выполняется.
.PP
.nf
Синтаксис строки условия:   = <sub\-cond>
                или:        = <sub\-cond> | <sub\-cond> ...
                или:        = <sub\-cond> & <sub\-cond> ...

где <sub\-condition> может принимать следующие значения:

  y <pattern>     синтаксис текущего файла соответствует шаблону.
                  Только для меню редактора.
  f <pattern>     соответствует шаблону имя текущего файла?
  F <pattern>     соответствует шаблону файл в пассивной
                  панели?
  d <pattern>     соответствует шаблону имя текущего
                  каталога?
  D <pattern>     соответствует шаблону имя текущего
                  каталога в пассивной панели?
  t <type>        тип файла соответствует <type>?
  T <type>        тип файла в пассивной панели
                  соответствует <type>?
  x <filename>    filename является исполнимым?
  ! <sub\-cond>    логическое отрицание условия <sub\-cond>
.fi
.PP
Шаблон (pattern) \- это обычный шаблон оболочки (shell pattern) или
регулярное выражение, в соответствии с опцией "shell patterns". Вы
можете задать значение опции "shell patterns" путем записи строки
"shell_patterns=x" в самую первую строку файла меню (здесь "x" равно 0
или 1).
.PP
.nf
Типы файлов определяются следующими символами:

  n     не каталог
  r     обычный файл (regular file)
  d     каталог
  l     ссылка (link)
  c     байт\-ориентированное устройство (char special)
  b     блок\-ориентированное устройство (block special)
  f     fifo
  s     socket
  x     исполняемый файл
  t     помеченный файл (tagged)
.fi
.PP
Например, 'rlf' означает либо обычный файл, либо ссылку, либо файл типа
fifo. Тип 't' стоит несколько особняком, потому что этот тип
определяется не типом самого файла, а тем, помечен ли файл на панели.
Условие '=t t' истинно, если в текущей панели имеются помеченные файлы,
и ложно, если таковых нет.
.PP
Если условие начинается с '=?' вместо '=', то во время выполнения
проверки условия будет отображаться ход вычисления условия (a debug
trace will be shown whenever the value of the condition is calculated).
.PP
Значение условия вычисляется слева направо. Это значит, что
.nf
	= f *.tar.gz | f *.tgz & t n
.fi
вычисляется как
.nf
	( (f *.tar.gz) | (f *.tgz) ) & (t n)
.fi
.PP
Вот пример использования условий:
.PP
.nf
= f *.tar.gz | f *.tgz & t n
L	List the contents of a compressed tar\-archive
	gzip \-cd %f | tar xvf \-
.fi
.PP
.B Условия включения пункта в меню (Addition Conditions)
.PP
Если строка условия начинается с '+' (или '+?') вместо '=' (или '=?') \-
это условие трактуется как условие включения данного пункта в меню. Если
условие истинно, пункт включается в отображаемое на экране меню, если
условие не выполняется \- не включается.
.PP
Вы можете использовать одно и то же условие и как условие выполнения и
как условие включения пункта в меню, если начнете строку условия с '+='
или '=+' (если надо отображать ход вычисления, то с '+=?' или '=+?').
Если вы хотите использовать два разных условия, одно для включения в
меню, а другое \- для выполнения, надо предпослать пункту меню две строки
условий, одну \- начинающуюся с '+', и другую \- начинающуюся с '='.
.\"NODE "  Options Menu"
.SH "Меню 'Настройки'"
Программа Midnight Commander имеет ряд установок (опций), каждая из
которых может быть включена или выключена, для чего служат несколько
диалоговых окон, доступных через меню "Настройки". Опция включена, если
поставлена звездочка или знак "x" в скобках перед названием опции.
.PP
Пункт
.\"LINK2"
Конфигурация
.\"Configuration"
вызывает диалоговое окно, в котором вы можете поменять большинство
установок программы Midnight Commander.
.PP
Пункт
.\"LINK2"
Внешний вид
.\"Layout"
служит для задания настроек, определяющих положение и вид окна программы
mc на экране.
.PP
Пункт
.\"LINK2"
Настройки панелей
.\"Panel options"
служит для задания настроек панелей файлового менеджера.
.PP
Пункт
.\"LINK2"
Подтверждение
.\"Confirmation"
вызывает диалоговое окно, в котором вы указываете, на выполнение каких
действий программа будет требовать подтверждения.
.PP
Пункт
.\"LINK2"
Биты символов
.\"Display bits"
вызывает диалоговое окно, в котором вы указываете, в каком формате ваш
терминал будет обрабатывать (вводить и отображать на дисплее)
информацию, представленную байтами (например, записанную в файле).
.PP
Пункт
.\"LINK2"
Распознавание клавиш
.\"Learn keys"
вызывает диалоговое окно, в котором вы можете протестировать работу
некоторых клавиш, которые работают не на всех типах терминалов, и
связать ту реакцию системы, которая должна была последовать за нажатием
отсутствующей клавиши, с нажатием другой клавиши или комбинации клавиш.
.PP
Пункт
.\"LINK2"
Виртуальные ФС
.\"Virtual FS"
вызывает диалоговое окно, в котором вы можете задать значения некоторых
параметров, связанных с использованием виртуальных файловых систем.
.PP
По команде
.\"LINK2"
Сохранить настройки
.\"Save Setup"
введенные значения параметров сохраняются в ini\-файле программы.
.\"NODE "    Configuration"
.SH "    Конфигурация"
Параметры конфигурации, задаваемые в этом окне, делятся на несколько
групп: "Параметры операций с файлами", "Клавиша Esc", "Пауза после
исполнения" и "Прочие настройки".
.PP
.B Параметры операций с файлами
.PP
.I Детали операций.
Этот переключатель определяет, будет ли при выполнении операций
копирования, перемещения и удаления выводится дополнительное окно,
отображающее ход выполнения операции. Если у вас медленный терминал, вы
можете отключить этот вывод. Он отключается автоматически, если скорость
вашего терминала меньше 9600 bps.
.PP
.I Подсчитывать общий размер.
Если эта опция включена, Midnight Commander перед выполнением операций
копирования, перемещения и удаления подсчитывает общее число
обрабатываемых файлов и их суммарный размер и показывает ход выполнения
операции над этими файлами в виде диаграммы\-полоски (правда, это слегка
замедляет выполнение операций). Эта опция не работает, если отключена
опция
.I Детали операций.
.PP
.I Обычный индикатор прогресса.
Если эта опция включена, индикатор прогресса файловых операций (копирование,
перемещение, удаление) всегда увеличивается слева направо. Если опция
выключена, направление увеличения индикатора прогресса совпадает с направлением
файловой операции: с левой панели на правую или наоборот. По умолчанию включено.
.PP
.I Автоимя каталога.
При создании нового каталога по F7 в поле ввода имени нового каталога
будет автоматически подставляться имя файла или каталога, находящегося
под курсором. По умолчанию выключено.
.I Выделять место
Если возможно, предварительно выделять место под весь копируемый файл.
По умолчанию выключено.
.PP
.B Клавиша Esc
.PP
По умолчанию Midnight Commander трактует нажатие на клавишу ESC как
действие, предшествующее нажатию какой\-то другой клавиши и совместно
обрабатывает комбинацию <Esc\-key>. Поэтому вы должны нажимать ESC
дважды, чтобы закрыть диалог. Но существует возможность использовать
однократное нажатие ESC для этого действия.
.PP
.I Однократное нажатие.
По умолчанию эта опция выключена. Если вы её включите, то программа будет
ожидать нажатия второй клавиши только в течение некоторого временного
интервала (см. ниже опцию
.IR Интервал ),
и если за это время ни одна клавиша не нажата, то ESC интерпретируется
как каоманда "Отмена" (ESC ESC).
.PP
.I Интервал.
Эта опция используется для задания временного интервала (в микросекундах)
для использования однократного нажатия на клавишу ESC. По умолчанию этот
интервал равен 1 секунде (1000000 микросекунд). Кроме того, этот интервал
может быть установлен через переменную окружения KEYBOARD_KEY_TIMEOUT_US
(также в микросекундах), которая имеет приоритет над над значеним этой
опции.
.PP
.B Пауза после исполнения
.PP
После выполнения вашей команды Midnight Commander может обеспечить
паузу, чтобы вы могли просмотреть и изучить вывод команды. Есть три
варианта установки этой опции:
.PP
.IR Никогда.
Это значит, что вы не хотите видеть вывод команды. На консоли Linux или
FreeBSD или при использовании xterm вы можете просмотреть этот вывод,
нажав C\-o.
.PP
.IR "На "тупых" терминалах" .
Пауза будет создаваться на терминалах, которые не способны обеспечить
показ вывода последней из выполнявшихся команд (это любые терминалы,
отличные от xterm или Linux\-консоли).
.PP
.IR Всегда .
Программа обеспечит паузу после выполнения любой команды.
.PP
.B Прочие настройки
.PP
.I Встроенный редактор.
Если эта опция включена, то для редактирования файлов вызывается
встроенный редактор. Если опция выключена, то будет использоваться
редактор, указанный в переменной окружения
.B EDITOR.
Если такой редактор не задан, будет вызываться
.B vi
Смотрите раздел
.\"LINK2"
Встроенный редактор файлов\&.
.\"Internal File Editor"
.PP
.I Встроенный просмотр.
Если эта опция включена, для просмотра файлов вызывается встроенная
программа просмотра. Если опция выключена, вызывается программа,
указанная в переменной окружения
.B PAGER.
Если такая программа не задана, используется команда
.B view.
Смотрите раздел
.\"LINK2"
Встроенная программа просмотра файлов\&.
.\"Internal File Viewer"
.PP
.I Автоматические меню.
Если эта опция включена, пользовательское меню будет автоматически
вызываться на экран при запуске программы. Это бывает полезно, если на
компьютере работают неопытные пользователи (операторы), которые должны
выполнять только стандартные операции.
.PP
.I Спрашивать имя нового файла.
Если эта опция включена, то перед открытием нового файла в редакторе
будет запрошено его имя.
.PP
.I Выпадение меню при вызове.
Если эта опция включена, то при вызове главного меню нажатием клавиши F9
будет сразу отображаться перечень пунктов меню (выпадающее меню).
В противном случае активизируются только пункты главного меню, и вы должны
(после выбора одного из них клавишами стрелок) нажать клавишу Enter
либо выбрать нужный пункт по "горячей клавише" и только после этого
получите возможность выбрать пункт выпадающего меню.
.PP
.I Образцы в стиле shell.
По умолчанию команды Select, Unselect и Filter используют регулярные
выражения, которые строятся по правилам, действующим в оболочке (shell\-
like regular expressions). Для того, чтобы достичь такого эффекта,
выполняются следующие преобразования: '*' заменяется на '.*' (ноль или
больше символов); '?' заменяется на '.' (в точности один символ) и '.'
заменяется на обычную точку. Если опция отключена, то регулярные
выражения должны строиться так, как описано в ed(1).
.PP
.I Дополнение: показывать всё.
В процессе ввода команд Midnight Commander может выполнять
.\"LINK2"
Завершение ввода
.\"Completion"
при нажатии на клавиши
.B M\-Tab,
пытаясь угадать окончание вводимой команды. По умолчанию при первом
нажатии
.B M\-Tab
он ищет все возможные варианты завершения и, если завершения
неоднозначны (имеется много разных вариантов), то только издает звуковой
сигнал. При втором нажатии
.B M\-Tab
отображаются все возможные завершения. Если вы хотите видеть все
возможные варианты завершения после первого нажатия
.B M\-Tab,
включите эту опцию.
.PP
.I Вращающийся индикатор
Если эта опция включена, Midnight Commander отображает в верхнем правом
углу вращающуюся черточку, как индикатор того, что выполняется какое\-то
задание (операция).
.PP
.I Смена каталога по ссылкам.
Установка этой опции приводит к тому, что Midnight Commander будет
следовать логической цепочке подкаталогов при выполнении команд смены
каталога как в панели, так и по команде
.B cd.
Так же ведет себя по умолчанию
.B bash.
Если же опция не включена, Midnight Commander будет при выполнении
команды
.B cd
следовать реальной структуре каталогов, так что если вы вошли в текущий
каталог по ссылке на него, то по команде
.B cd ..
вы окажетесь в его родительском каталоге, а не в том каталоге, где
расположена ссылка.
.PP
.I Безопасное удаление.
Если эта опция включена, непреднамеренно удалить файл будет сложнее. В
диалоговых окнах подтверждения удаления предлагаемая по умолчанию кнопка
изменяется с
.B Да
на
.BR Нет .
По умолчанию эта опция отключена.
.PP
.I Автосохранение настроек.
Если эта опция включена, то при выходе из программы Midnight Commander
значения всех настраиваемых параметров сохраняются в файле
.BR ~/.config/mc/ini .
.\"NODE "    Layout"
.SH "    Внешний вид"
Диалоговое окно "Внешний вид" дает вам возможность изменить некоторые
параметры отображения на экране главного окна программы Midnight
Commander. Параметры, задаваемые в этом окне, делятся на несколько
групп: "Разбиение панелей", "Консольный вывод" и "Прочие настройки".
.PP
.B Разбиение панелей
.PP
Большую часть экрана занимают файловые панели. Вы можете указать,
каким должно быть расположение панелей:
.I вертикальное
или
.IR горизонтальное .
Изменить расположение панелей можно также с помощью клавиатурного сочетания
Alt\-, (Alt\-запятая).
.PP
.I Равные размеры
По умолчанию панели имеют равные разменры. Эта опция позволяет изменить их.
.PP
.B Консольный вывод
.PP
Эта опция доступна, если Midnight Commander запущен на консоли Linux или
FreeBSD. Она устанавливает число строк, которые будут оставлены для отображения
вывода команды.
.PP
.B Прочие настройки
.PP
.I Линейка меню.
Если включено, основное меню программы будет отображаться постоянно вверху
экрана. По умолчанию включено.
.PP
.I Командная строка.
Если включено, в нижней части экрана будет доступна командная строка.
По умолчанию включено.
.PP
.I Метки клавиш.
Если включено, внизу экрана будут отображаться 10 меток, соответствующих
функциональным клавишам F1\-F10. По умолчанию включено.
.PP
.I Строка подсказки.
Если включено, ниже панелей будут отображаться однострочные подсказки
по приёмам работы в Midnight Commander. По умолчанию включено.
.PP
.I Заголовок xterm.
При исполнении в эмуляторе терминала системы X11 Midnight Commander
отображает в заголовке xterm текущий каталог и изменяет этот заголовок
при необходимости.  Если ваш эмулятор терминала неисправен и вы видите
неверный заголовок при старте или изменении каталога, выключите эту опцию.
По умолчанию включено.
.PP
.I Свободное место.
Если включено, на нижней рамке панели будет показано свободное место и общий
размер текущей файловой системы. По умолчанию включено.
.\"NODE "    Panel options"
.SH "    Настройки панелей"
.B Основные настройки панелей
.PP
.I Показывать мини\-статус.
Если включено, в нижней части каждой панели выводится строка информации
о выделенном подсветкой файле или каталоге каждой панели. По умолчанию включено.
.PP
.I Размеры в единицах СИ.
Если эта опция включена, то Midnight Commander отображает размеры файлов
и каталогов в единицах СИ (по основанию 1000). Суффиксы к, м, и т. д.
отображаются в нижнем регистре. По умолчанию опция выключена. В этом случае
Midnight Commander отображат размеры в двоичных единицах (по снованию
1024), и суффиксы К, М, и т. д. отображаются в верхнем регистре.
.PP
.I Смешивать файлы/каталоги.
Если эта опция включена, имена файлов и каталогов отображаются вперемежку.
Если опция выключена, каталоги (и ссылки на каталоги) показываются в начале
списка, а имена файлов \- после имен всех каталогов. По умолчанию выключено.
.PP
.I Показывать резервные (Backup) файлы.
Если эта опция выключена, Midnight Commander не показывает файлы, имена которых
заканчиваются на '~' (подобно ключу \-B команды ls в GNU). По умолчанию включено.
.PP
.I Показывать скрытые файлы.
Если эта опция включена, Midnight Commander показывает все файлы, имена которых
начинаются точкой (как ls \-a). По умолчанию включено.
.PP
.I Быстрая загрузка каталога.
По умолчанию эта опция выключена. Если вы активизируете ее, Midnight
Commander будет использовать для вывода содержимого каталога следующий трюк:
содержимое каталога перечитывается только в том случае, если изменилась
запись в i\-node каталога, то есть если в каталоге создавались или удалялись
файлы; если изменялись только записи в i\-node файлов каталога (изменялся
размер файла, режим доступа или владелец и т.п.) содержимое панели
не обновляется. В этом случае (если опция включена) вы должны обновлять список
файлов вручную (используя клавиатурное сочетание C\-r).
.PP
.I Отметка перемещает курсор.
Когда вы отмечаете файл (клавишей Insert), то по умолчанию подсветка
на имени файла смещается на одну строку вниз.
.PP
.I Инвертировать только файлы.
Если опция включена (по умолчанию она включена), инвертирование
выбора применяется только к файлам, но не к каталогам. Выбор каталогов
не изменяется. Если не установлена, производится инвертирование как файлов,
так и каталогов. Все невыбранные объекты становятся выбранными и наоборот.
.PP
.I Простая перестановка.
Если обе панели содержат списки файлов и каталогов, простая перестановка
представляет собой изменение расположения панелей на экране: правая панель
становится левой и наоборот. Если эта опция выключена, панели со списками файлов
обмениваются соим содержимым, сохраняя формат списка и параметры сортировки.
По умолчанию выключено.
.PP
.I Автосохранение настроек панелей.
Если опция включена (по умолчанию она выключена), то при выходе из
Midnight Commander'а текущие настройки панелей соханяются в файле
~/.config/mc/panels.ini.
.PP
.B Навигация
.PP
.I Навигация в стиле lynx.
Если эта опция включена, вы имеете возможность использовать клавиши
"стрелка вправо" для перехода в подсвеченный в данный момент каталог и
"стрелка влево" для перехода в родительский по отношению к текущему
каталог (при условии, что командная строка пуста). По умолчанию опция
отключена.
.PP
.I Страничное листание.
Если опция установлена (по умолчанию она установлена), то когда курсор
(подсветка) достигает конца или начала списка файлов, отображаемого на
панели, будет производиться смещение на половину этого списка (то есть
половина отображаемого списка остается на экране, а половина пропадает,
заменяясь следующими пунктами общего списка). Если опция не установлена,
происходит смещение только на одну строку.
.PP
.I Страничное листание мышью.
Определяет, будет ли прокрутка информации (scrolling) в панелях,
осуществляемая с помощью мышки, производиться страницами или на одну
строку.
.PP
.B Расцветка файлов
.PP
По умолчанию вся информация отображаются одним цветом, но вы можете
сделать так, чтобы
.I права доступа
и
.I типы файлов
были выделены другими
.\"LINK2"
цветами\&.
.\"Colors"
Если включено выделение цветом прав доступа, поля
.I perm
и
.I mode
в
.\"LINK2"
форматах вывода\&,
.\"Listing Mode..."
показывающие права пользователя, запустившего программу Midnight
Commander, выделены цветом, определенным ключевым словом
.I selected.
Если разрешено, подсветка имён файлов производится на основании
правил из файла %sysconfdir%/mc/filehighlight.ini. Смотрите
.\"LINK2"
Подсветка имён файлов
.\"Filenames Highlight"
для получения большей информации.
.PP
.B Быстрый поиск
.PP
.\"LINK2"
Быстрый поиск файлов
.\"Quick search"
может работать в одном из трёх режимов: с учётом регистра имён файлов,
без учёта регистра или в соответствии с порядком сортировки файлов в панели:
с учётом регистра или без. Режим по умолчанию \- использование порядка
сортировки файлов в панели.
.\"NODE "    Confirmation"
.SH "    Подтверждения"
Используя это диалоговое окно, вы можете сделать так, чтобы перед
выполнением операций удаления, перезаписи файла, запуска файла на выполнение,
перед выходом из программы MC, перед удаленим каталога из каталогов быстрого
доступа, а также перед очисткой истории выдавался дополнительный запрос
на подтверждение.
.\"NODE "    Display bits"
.SH "    Биты символов..."
Этот пункт меню используется для задания диапазона отображаемых на
дисплее символов. Если терминал поддерживает только 7\-битный вывод, то
нужно выбрать установку "7 бит". Выбрав "ISO\-8859\-1" вы получите все
символы из таблицы ISO\-8859\-1, а выбор установки "Полный 8\-битный вывод"
имеет смысл на тех терминалах, которые могут отображать все 8\-битовые
символы.
.\"NODE "    Learn keys"
.SH "    Распознавание клавиш..."
Пункт
.\"LINK2"
Распознавание клавиш (Learn keys)
.\"Learn keys"
вызывает диалоговое окно, в котором вы можете протестировать работу
некоторых клавиш
.B (F1\-F20, Home, End),
которые работают не на всех типах терминалов.
.PP
В диалоговом окне появляется таблица с названиями клавиш, которые могут
тестироваться. Вы можете перемещать подсветку по названиям, используя
клавишу
.B Tab
или клавиши, применяемые в редакторе
.B vi
('h' влево, 'j' вниз, 'k' вверх 'l' вправо). Если один раз нажать на
клавиши со стрелками, после чего возле их названий в таблице появится
пометка OK, то их тоже можно будет использовать для управления
перемещением.
.PP
Для тестирования работы клавиш нужно нажать каждую клавишу из
перечисленных в таблице. Если она работает нормально, возле ее названия
в таблице появится пометка OK. После появления такой пометки клавиша
начинает работать в ее обычном режиме. Например, первое нажатие на
клавишу
.B F1
приводит только к появлению пометки (если она работает нормально), а при
следующих нажатиях будет вызываться окно подсказки. То же самое
относится к клавишам стрелок. Клавиша
.B Tab
работает всегда.
.PP
Если какая\-то клавиша не работает, то после нажатия на нее пометка OK не
появится. В таком случае можно связать ту реакцию системы, которая
должна была последовать за нажатием неработающей (отсутствующей)
клавиши, с нажатием другой клавиши или комбинации клавиш. Для этого надо
переместить подсветку на название неработающей клавиши (используя мышь
или клавишу
.BR Tab )
и нажать
.B Enter
или клавишу
.BR пробела .
Должно появиться окно красного цвета, в котором вас просят нажать
клавишу, которая будет использоваться вместо неработающей. Для отмены
операции нажмите
.B Esc
и дождитесь, пока красное окно исчезнет. Либо выберите и нажмите ту
комбинацию клавиш, которая будет служить заменой для неработающей
клавиши (и тоже дождитесь закрытия окна).
.PP
Когда закончите тестирование и настройку всех клавиш, вы можете
сохранить эти настройки в секции [terminal:TERM] вашего файла
.B ~/.config/mc/ini
(где TERM \- название используемого терминала) либо отказаться от
запоминания изменений. Если все клавиши работают нормально, то
сохранение, конечно, не требуется.
.\"NODE "    Virtual FS"
.SH "    Виртуальные файловые системы"
Этот пункт меню позволяет задать некоторые параметры кэширования
информации о
.\"LINK2"
виртуальных файловых системах\&.
.\"Virtual File System"
.PP
С целью ускорения доступа к файлам Midnight Commander сохраняет в
оперативной памяти информацию, относящуюся к некоторым виртуальным
файловым системам (например, списки файлов в каталогах удаленных ftp
серверов).
.PP
Кроме того, для получения доступа к содержимому сжатых архивов
(например, сжатых tar\-файлов) Midnight Commander создает временные файлы
на жестком диске.
.PP
Поскольку в обоих этих случаях расходуются ресурсы компьютера, у вас
может появиться желание настроить некоторые параметры таким образом,
чтобы уменьшить эти расходы или повысить скорость доступа к часто
используемым файловым системам.
.PP
Файловая система архиватора tar очень разумно организует работу с
архивными файлами: она сохраняет на диске структуру каталогов архива и,
когда возникает необходимость обращения к информации из tar\-файла,
использует этот список для извлечения нужного файла.
.PP
В общем случае tar\-файлы обычно хранятся в сжатом виде (простые
tar\-файлы \- вымирающее явление), и в силу природы таких файлов
(структура подкаталогов для tar\-файлов недоступна для мгновенной
загрузки/отображения), файловая система tar должна разархивировать файлы
на диск во временный каталог и затем представить обращение к
разархивированным файлам как обращение к tar\-файлу.
.PP
А поскольку мы все любим быстро пролистывать файлы и хранить их в виде
tar\-архивов, стало самой обычной ситуацией когда сначала просматривают
такой файл, выходят из него, а потом обращаются к нему снова. Поскольку
разархивация \- операция медленная, Midnight Commander кеширует
информацию в памяти на некоторое время. По истечении этого интервала
времени все ресурсы, выделенные этой файловой системе, будут
освобождены. По умолчанию величина этого интервала устанавливается
равной 1 минуте. Смотрите также
.\"LINK2"
Файловая система tar\&.
.\"Tar File System"
.PP
Файловая система FTP сохраняет список каталогов, полученный с
FTP\-сервера, в памяти (в кеше). Время, в течение которого этот список
хранится в кеше, задается опцией
.I Тайм\-аут кеша каталога FTP.
Слишком маленькое значение этого параметра будет замедлять все операции
с файловой системой ftp, потому что каждое обращение к ней будет
означать реальное обращение к удаленному ftp серверу.
.PP
Кроме того, в том же диалоговом окне можно задать имя прокси\-сервера
(proxy host), который будет использоваться для перекачки файлов по ftp и
сконфигурировать Midnight Commander таким образом, чтобы всегда работать
через прокси\-сервер.
.PP
.I Пароль анонимного FTP:
\- пароль, используемый когда вы регистрируетесь как анонимный пользователь
"anonymous".  Для некоторых сайтов требуется полноценный электронный адрес,
с другой стороны, вероятно, вы не захотите указывать свой настоящий
электронный адрес для сайтов, которым не доверяете, особенно если 
не используется фильтрация нежелательной корреспонденции.
.PP
Также можно разрешить использование файла
.BR ~/.netrc ,
содержащего имена пользователей и пароли серверов FTP.
Формат файла .netrc описан в .netrc (5).
.PP
Смотрите раздел о
.\"LINK2"
файловой системе FTP
.\"FTP File System"
для получения дополнительной информации.
.\"NODE "    Save Setup"
.SH "    Сохранение установок"
При загрузке Midnight Commander пытается считать значения различных
установочных параметров из файла
.BR ~/.config/mc/ini .
Если такого файла не существует, необходимая информация ищется в
общесистемном конфигурационном файле
.BR mc.ini .
Этот файл располагается в каталоге, путь к которому можно определить,
запустив команду
.BR "mc \-f" .
(это можно сделать даже из командной строки MC).  Если и этого файла не
существует,
.I MC
использует установки по умолчанию.
.PP
Команда
.I Сохранить настройки
создает файл
.BR ~/.config/mc/ini ,
в котором записываются текущие значения параметров, задаваемых опциями
меню
.\"LINK2"
Левая, Правая
.\"Left and Right Menus"
и
.\"LINK2"
Настройки\&.
.\"Options Menu"
.PP
Если вы включите опцию
.I Автосохранение настроек
(пункт меню "Настройки/Конфигурация"),
.I MC
будет автоматически сохранять текущие настройки при выходе из программы.
.PP
Значения некоторых параметров не могут быть изменены через пункты меню.
Для изменения значений этих параметров вы должны отредактировать файл
настроек с помощью какой\-либо программы\- редактора. Подробнее об этих
параметрах смотрите в разделе
.\"LINK2"
.I Специальные установки\&.
.\"Special Settings"
.\"NODE "Executing operating system commands"
.SH "Выполнение команд операционной системы"
Для того, чтобы во время работы с MC запустить любую команду ОС, вы
должны либо набрать имя соответствующей программы в командной строке,
либо выбрать имя программы в одной из панелей (переместив подсветку на
имя файла программы), а затем нажать клавишу Enter.
.PP
Если вы нажимаете клавишу Enter в тот момент, когда подсветка указывает
на имя файла, не являющегося исполняемым, Midnight Commander сравнивает
расширение выбранного файла с расширениями, прописанными в
.\"LINK2"
файле расширений\&.
.\"Extension File Edit"
Если в файле расширений найдется подраздел, задающий процедуры обработки
файлов с данным расширением, то обработка файла производится в
соответствии с заданными в этом подразделе командами. Перед обработкой
выполняются простые
.\"LINK2"
макроподстановки\&.
.\"Macro Substitution"
.\"NODE "  The cd internal command"
.SH "  Встроенная команда cd"
Команда
.I cd
не передается на исполнение оболочке, а интерпретируется самой
программой Midnight Commander. Поэтому при ее запуске возможны не все
удобные макрорасширения и подстановки, доступные в оболочке, а только
часть из них:
.PP
.I Замена тильды
Символ тильды (~) будет заменен именем вашего домашнего каталога, а если
вы добавите после тильды имя пользователя, эта конструкция будет
заменена на имя домашнего каталога указанного пользователя.
.PP
Например, ~guest \- это домашний каталог пользователя guest, в то время
как ~/guest \- это каталог guest в вашем домашнем каталоге.
.PP
.I Предыдущий каталог
вы можете перейти в предыдущий каталог, используя специальное имя '\-',
то есть выполнив команду:
.B cd \-
.PP
.I Каталоги в CDPATH
Если каталог, указанный команде
.BR cd ,
не является подкаталогом текущего каталога, то Midnight Commander
использует значение переменной окружения
.B CDPATH
для поиска указанного каталога во всех каталогах, перечисленных в этой
переменной.
.PP
Например, если переменной
.B CDPATH
присвоено значение
.BR ~/src:/usr/src ,
то из любого места в файловой системе вы сможете перейти в любой
подкаталог каталогов
.B ~/src
и
.BR /usr/src ,
используя только относительные имена (cd linux вызовет переход в
/usr/src/linux).
.\"NODE "  Macro Substitution"
.SH "  Макроподстановки"
Перед выполнением команд, задаваемых пунктами
.\"LINK2"
пользовательского меню\&,
.\"Menu File Edit"
вызываемых
.\"LINK2"
по расширению имени файла\&,
.\"Extension File Edit"
или запускаемых из командной строки ввода, вначале выполняются простые
макроподстановки.
.PP
.TP
.I "%i"
Отступ из пробелов, равный текущему положению курсора. Только для меню
редактора.
.TP
.I "%y"
Тип синтаксиса текущего файла. Только для меню редактора.
.TP
.I "%k"
Имя файла блока редактора.
.TP
.I "%e"
Имя файла протокола ошибок исполнения сценариев редактора.
.TP
.I "%m"
Имя текущего файла меню.
.TP
.I "%f" и "%p"
Текущее имя файла.
.TP
.I "%x"
Расширение текущего файла.
.TP
.I "%b"
Имя текущего файла без расширения.
.TP
.I "%d"
Имя текущего каталога.
.TP
.I "%F"
Текущее имя файла в неактивной панели.
.TP
.I "%D"
Имя текущего каталога в неактивной панели.
.TP
.I "%t"
Отмеченные файлы.
.TP
.I "%T"
Файлы, отмеченные в неактивной панели.
.TP
.I "%u" и "%U"
Подобны макросам %t и %T, но дополнительно снимается отметка с файлов.
Их можно использовать в скриптах, заданных для пункта меню или
ассоциированных с расширением файла, только один раз, поскольку после их
использования помеченных файлов не будет.
.TP
.I "%s" и "%S"
Выбранные файлы: помеченные файлы, если такие есть; в противном случае
файл, имя которого подсвечено.
.TP
.I "%cd"
Это специальный макрос, используемый для перехода из текущего каталога в
каталог, указанный перед этим макросом. Используется в основном для
обращения к
.\"LINK2"
виртуальным файловым системам\&.
.\"Virtual File System"
.TP
.I "%view"
Этот макрос используется для вызова встроенной программы просмотра.
Может использоваться как с аргументами, так и без них. Если заданы
аргументы, они должны быть заключены в фигурные скобки.
.IP
Аргументами могут быть:
.I ascii
\- для перевода программы просмотра в режим ascii;
.I hex
\- для перевода программы просмотра в режим hex;
.I nroff
\- для указания программе просмотра, что необходимо интерпретировать
выделенные (bold) и подчеркнутые последовательности nroff;
.I unformatted
\- указывает программе просмотра, что не нужно использовать команды
nroff для выделения или подчеркивания текста;
.TP
.I "%%"
Символ %
.TP
.I "%{любой текст}"
Запрос на подстановку. Будет выдаваться окно ввода, а текст из скобок
выводится как подсказка. Макрос заменяется на текст, введенный
пользователем в окне ввода. Пользователь может нажать ESC или F10 для
того, чтобы отказаться от ввода. Этот макрос пока не работает в
командной строке.
.TP
.I "%var{ENV\-VAR:default}"
Этот макрос будет заменяться на значение переменной окружения ENV\-VAR,
если она установлена, в противном случае будет использовано значение
default. Это подобно конструкции ${VAR\-def} в оболочке Борна.
.\"NODE "  The subshell support"
.SH "  Поддержка subshell"
Поддержка subshell \- это опция компиляции, которая работает с оболочками
bash, tcsh и zsh.
.PP
Если поддержка subshell включена, то Midnight Commander будет порождать
точную копию (a concurrent copy) вашей оболочки (которая определена в
переменной окружения
.B SHELL
или, если эта переменная не определена, в файле /etc/passwd) и запускать
ее в псевдо\-терминале, вместо того, чтобы каждый раз вызывать новую
оболочку для выполнения команды. Введенная команда передается subshell.
Это позволяет изменять значения переменных окружения, использовать
функции shell и определять алиасы (aliases), которые будут действовать
до выхода из программы Midnight Commander.
.PP
Если вы используете
.BR bash ,
можно указать команды, которые будут выполняться при запуске
subshell, в файле
.B ~/.local/share/mc/bashrc
и специальную карту раскладки клавиатуры в файле
.B ~/.local/share/mc/inputrc.
Пользователи
.B tcsh
могут задать выполняемые при запуске команды в файле
.B ~/.local/share/mc/tcshrc.
.PP
Во время выполнения приложения в subshell можно в любой момент нажать
комбинацию клавиш
.B C\-o
для переключения в Midnight Commander (выполняемая команда или
приложение будут остановлены). Если вы прервали таким образом исполнение
команды, вы не сможете запустить другую внешнюю команду, пока не
завершите работу остановленного приложения.
.PP
Особенностью использования subshell является то, что подсказка (prompt),
выводимая Midnight Commander будет той же самой, что и в вашей обычной
оболочке.
.PP
В разделе
.\"LINK2"
Опции запуска
.\"OPTIONS"
приведена дополнительная информация о том, как можно управлять
(настроить) subshell.
.\"NODE "Chmod"
.SH "Права доступа"
Диалоговое окно "Права доступа" предоставляет удобный интерфейс к
команде chmod \- команде изменения атрибутов доступа к файлам и
каталогам. Доступ к этому окну можно получить по "горячей" комбинации
клавиш
.BR "C\-x c" .
.PP
Диалоговое окно "Права доступа" состоит из двух частей \-
.IR Права доступа
и
.IR Файл .
.PP
В части "Файл" отображается имя файла или каталога и права доступа на
него в восьмеричной форме, а также указаны владелец и группа файла.
.PP
В части "Права доступа" перечислены атрибуты прав доступа к текущему
файлу. В квадратных скобках возле соответствующего атрибута крестиком
помечены те атрибуты, которые установлены для данного файла. Изменять
установки атрибутов можно двумя способами. При первом способе
непосредственно изменяется значение атрибута в квадратных скобках возле
его названия. Для изменения значений атрибутов надо переместить
подсветку на название соответствующего атрибута и нажать клавишу
пробела.
.PP
Для перемещения подсветки по названиям атрибутов можно использовать
.I клавиши\-стрелки
или клавишу
.IR Tab .
Названия изменяемых атрибутов помечаются звездочкой и предполагаемое
значение всех атрибутов в восьмеричном представлении прав доступа сразу
же отображаются в части окна "Файл".
.PP
Для того, чтобы выбранные вами значения атрибутов прав доступа вступили
в силу, надо нажать клавишу Enter или экранную кнопку
.B [Установить]
(с помощью мышки). Для отказа от изменения атрибутов нужно выбрать
кнопку
.BR [Прервать] .
Вместо выбора экранных кнопок можно воспользоваться "горячими" клавишами
(выделенные буквы в названии атрибута).
.PP
Изменять права доступа к отдельному файлу можно только первым
способом (описанным выше). Если вы хотите изменить атрибуты прав
доступа сразу группы файлов или каталогов, вы тоже можете воспользоваться
этим способом, только вместо экранной кнопки
.B [Установить]
или клавиши <Enter> должны выбрать кнопку
.B [Установить все].
Второй способ заключается в том, что вы сначала помечаете те атрибуты,
которые хотите изменить, с помощью клавиш <Ins> или <T>. Обратите
внимание, что значение в квадратных скобках при этом не изменяется.
После этого вы выбираете один из следующих вариантов действий (то есть
одну из экранных кнопок):
.PP
.B [Отметить все]
отмеченные атрибуты (и только они) будут установлены в те значения,
которые указаны в квадратных скобках возле названия атрибута, причем для
всех выбранных (помеченных) файлов; если атрибут не был отмечен, его
значение для выбранных файлов не изменяется.
.PP
.B [Установить помеченное]
для всех выбранных файлов бит, соответствующий данному атрибуту, будет
установлен в 1.
.PP
.B [Очистить помеченное]
для всех выбранных файлов бит, соответствующий данному атрибуту, будет
установлен в 0.
.PP
.B [Установить]
будут установлены атрибуты только для одного файла (первого из
помеченных), причем установка производится так же, как по клавише
[Отметить все].
.PP
.B [Прервать]
отказаться от выполнения команды Chmod.
.\"NODE "Chown"
.SH "Владелец/группа"
Пункт меню "Владелец/группа" используется для того, чтобы изменить
владельца файла или группу, которая имеет какие\-то права на файл.
"Горячая" клавиша для вызова этого пункта меню \-
.B C\-x o.
.\"NODE "Advanced Chown"
.SH "Расширенная команда Chown"
Выбрав пункт меню "Расширенная команда Chown", вы увидите окно,
совмещающее в себе окна, появляющиеся при выборе пунктов
.\"LINK2"
Права доступа
.\"Chmod"
и
.\"LINK2"
Владелец/группа\&.
.\"Chown"
В этом окне можно изменить как права доступа к файлу, так и
владельцев файла.
.\"NODE "File Operations"
.SH "Операции с файлами"
Когда вы выполняете операции копирования, перемещения или удаления
файлов, Midnight Commander отображает на экране диалоговое окно, в
котором показано, какой(ие) файл(ы) в данный момент обрабатывается и как
идет процесс обработки. Для отображения процесса обработки на экран
выводится до трех диаграмм\-полосок (progress bars). Первая (file bar)
показывает, какая часть текущего файла обработана (например,
скопирована). Вторая (count bar) показывает, какая доля помеченных файлов
обработана на текущий момент. Третья (bytes bar) показывает долю
выполненных работ (в процентах от суммарного объема помеченных файлов).
Если отключена опция "Детали операций" (см. "Настройки/Конфигурация"),
две последних диаграммы не отображаются.
.PP
В нижней части этого диалогового окна имеются две кнопки. Нажатие на
кнопку <Пропустить> приведет к тому, что будет пропущена обработка
текущего файла. Нажатие на кнопку <Прервать> прерывает выполнение
заданной операции, все оставшиеся файлы будут пропущены.
.PP
В процессе выполнения файловых операций вы можете увидеть окна еще трех
видов.
.PP
Окно ошибок информирует об ошибке и предлагает три варианта продолжения.
Обычно вы выбираете либо вариант <Пропустить> для того, чтобы исключить
из обработки файл, на котором споткнулась программа, либо <Прервать>,
чтобы вообще отменить выполнение заданной операции. Третий вариант,
<Повторить>, выбирается тогда, когда вам удалось устранить причину сбоя
(например, воспользовавшись другим терминалом).
.PP
Окно подтверждения перезаписи появляется тогда, когда вы пытаетесь
переписать существующий файл. В этом окне отображаются время создания и
размер файла\-источника и файла\-приемника (то есть перезаписываемого
файла, который фактически будет уничтожен). Ниже выведены два вопроса.
На первый вопрос ("Переписать этот файл?") предлагается три варианта
ответа:
.PP
согласиться (кнопка <Да>);
.PP
отказаться, то есть пропустить перезапись текущего файла (кнопка <Нет>);
.PP
дописать содержимое файла\-источника в конец файла\-приемника (кнопка
<дописать в Конец>).
.PP
Выбор одного из вариантов ответа на второй вопрос ("Переписать все
файлы?") позволяет принять одно решение по всем выбранным для обработки
файлам (чтобы окно запроса не появлялось каждый раз). Предлагается 4
варианта решения:
.TP
.I <Все>
перезаписались без дополнительных вопросов все выбранные файлы;
.TP
.I <Устаревшие>
перезапишутся (затрутся) только файлы, которые созданы раньше
файла\-источника;
.TP
.I <ни Одного>
не перезаписывать файлы (но если не существует файла\-приемника, то
копирование источника будет произведено);
.TP
.I <Различающиеся по длине>
Вы можете отказаться от выполнения операции, если нажмете клавишу
<Прервать> в нижней части окна запроса. Выбор экранной кнопки
производится клавишами стрелок или клавишей табуляции.
.PP
Окно запроса на рекурсивное удаление появляется в том случае, когда вы
пытаетесь удалить непустой каталог. По кнопке <Да> каталог будет удален
вместе со всеми файлами, <Нет> означает отказ от удаления каталога,
<Все> надо выбирать, если вы отметили группу подкаталогов для удаления и
уверены в своем выборе, <ни Одного> \- чтобы пропустить все непустые
каталоги из числа помеченных, <Прервать> означает отказ от выполнения
операции удаления. Выбирайте <Да> или <Все> только в том случае, когда
вы действительно уверены, что хотите удалить каталог со всеми вложенными
подкаталогами.
.PP
Если вы пометили для обработки группу файлов, то после выполнения
операции будет снята отметка только с тех файлов, которые успешно
обработаны. Пропущенные файлы останутся помеченными.
.\"NODE "Mask Copy/Rename"
.SH "Маски файлов для операций копирования/переименования"
При выполнении операций копирования и перемещения (или переименования)
файлов вы имеете возможность изменить имена копируемых или перемещаемых
файлов. Для этого вы должны задать маску для имен файлов\-источников и
маску для имен файлов, которые будут созданы (файлы\-приемники). Обычно
эта вторая маска представляет собой несколько символов замены
(wildcards) в конце строки, определяющей место назначение создаваемых
файлов. Все файлы, удовлетворяющие маске источника, будут переименованы
(скопированы или перемещены с новыми именами) в соответствии с маской
файла\-приемника. Если имеются помеченные файлы, то копируются
(перемещаются) только помеченные файлы, удовлетворяющие заданной маске
для файлов\-источников.
.PP
Есть еще несколько опций, которые влияют на выполнение операций
копирования/перемещения файлов, и которые устанавливаются в том же окне
запроса, где задаются маски имен файлов:
.PP
.B "Разыменовывать ссылки"
.PP
определяет, будут ли при копировании жестких или символических ссылок
в каталоге\- приемнике (и рекурсивно в подкаталогах) создаваться такие же ссылки,
или будут копироваться файлы (и подкаталоги), на которые эти ссылки указывают.
.PP
.B "Внутрь каталога, если есть"
.PP
определяет, что делать, если в каталоге\-приемнике уже существует подкаталог,
имя которого совпадает с именем файла (каталога), который копируется (источника).
По умолчанию (опция отключена) содержимое каталога\-источника копируется в
каталог\-приемник. Если опция включена, то в каталоге приемнике будет
создан новый подкаталог с тем же именем, в который и будет
осуществляться копирование. Лучше показать это на примере:
.PP
Пусть вы хотите скопировать каталог
.I /foo ,
содержащий файл
.I bar ,
в уже существующий каталог
.IR /bla/foo .
Если эта опция не включена, MC скопирует файл
.I /foo/bar
в файл
.IR /bla/foo/bar .
Если опцию включить, будет создан каталог
.I /bla/foo/foo
и файл
.I /foo/bar
будет скопирован в файл
.IR /bla/foo/foo/bar .
.PP
.B "Сохранять атрибуты"
.PP
определяет, будут ли при копировании/перемещении сохранены атрибуты исходного
файла: права доступа, временные метки и, если вы root, UID и GID исходного
файла. Если опция отключена, атрибуты будут установлены в соответствии с
текущим значением umask.
.PP
.B "Образцы в стиле shell"
.PP
Когда эта опция включена, можно использовать символы замены
(wildcards) '*' и '?' в маске источника. Они обрабатываются аналогично тому,
как это делается в shell. В маске приемника разрешается использовать только '*'
и '\\<цифра>'. Первый символ '*' в маске приемника соответствует первой
группе символов замены в маске источника, второй символ '*' соответствует
второй группе и т. д. Аналогично, символ замены '\\1' соответствует первой
группе символов замены в маске источника, символ '\\2' \- второй группе
и т. д. до '\\9'. Символ '\\0' соответствует целому имени файла\-источника.
.PP
Два примера:
.PP
Если маска источника "*.tar.gz", а приемник \- "/bla/*.tgz" и имя
копируемого файла \- "foo.tar.gz", копия будет называться "foo.tgz" и
будет находиться в каталоге "/bla".
.PP
Предположим вы хотите поменять местами имя и расширение файла, так чтобы
"file.c" стал файлом "c.file". Маска источника для этого должна иметь
вид "*.*", а маска приемника \- "\\2.\\1".
.PP
Когда опция
.I "Образцы в стиле shell"
выключена, MC не осуществляет автоматической группировки. Для указания
групп символов в маске источника, которые будут соответствовать символам
замены в маске приемника, вы должны в этом случае использовать скобки '\\(...\\)'.
Этот способ более гибкий, но требует больше усилий при вводе.
.PP
Два примера:
.PP
Если маска источника имеет вид "^\\(.*\\)\\.tar\\.gz$", копирование
производится в "/bla/*.tgz" и копируется файл "foo.tar.gz", то
результатом будет "/bla/foo.tgz".
.PP
Предположим, что вы хотите поменять местами имя файла и его расширение,
так чтобы имена вида "file.c" приняли вид "c.file". Маска источника для
этого \- "^\\(.*\\)\\.\\(.*\\)$", а маска приемника \- "\\2.\\1".
.PP
.B "Преобразование регистра"
.PP
Вы можете также преобразовать регистр символов в именах файлов. Если вы
используете '\\u' или '\\l' в маске приемника, то следующий символ имени
будет образован в верхнем (заглавные символы) или нижнем (строчные)
регистре соответственно.
.PP
Если использовать в маске приемника '\\U' или '\\L', то к
соответствующему регистру будут преобразованы все последующие символы,
вплоть до следующего вхождения '\\E' или '\\U', появления символа '\\L'
или конца имени файла.
.PP
Применение '\\u' и '\\l' обеспечивает более широкие возможности, чем '\\U' и '\\L'.
.PP
Например, если маска источника есть '*' (опция
.I "Образцы в стиле shell"
включена) или '^\\(.*\\)$' (опция
.I "Образцы в стиле shell"
выключена), а маска приемника есть '\\L\\u*', имена файлов будут
 преобразованы таким образом, что первые буквы имени будут заглавными,
а все остальные \- строчными.
.PP
Символ '\\' в масках используется для отмены специальной интерпретации
отдельных символов. Например, '\\\\' означает просто backslash и '\\*'
означает просто звездочку (asterisk).
.PP
.B "Изменять относительные ссылки"
.PP
указывает, что Midnight Commander должен изменять символические ссылки.
Скопированные символические ссылки будут указывать на то же расположение,
что и оригинальная ссылка, при этом дописываются необходимые ../ и другие
каталоги.
.\"NODE "Select/Unselect Files"
.SH "Отметить файлы"
Диалоговое окно параметров отметки группы файлов по заданному шаблону.
.\"LINK2"
Строка ввода
.\"Input Line Keys"
предназначена для ввода регулярного выражения (маски) для помети файлов.
Если включена опция
.I Только файлы,
то выделены будут только файлы. Если опция
.I Только файлы,
отключена, то выделены будут как файлы, так и каталоги. Если включена опция
.I Образцы в стиле shell ,
регулярные выражение строятся по тем же правилам, которые действуют в
оболочке shell (* означает ноль или большее число любых символов, а ?
заменяет один произвольный символ). Если опция
.I Образцы в стиле shell
отключена, то пометка файлов производится по правилам обработки
нормальных регулярных выражений (смотрите ed(1)). Если включена опция
.I С учётом регистра
то пометка файлов и каталогов будет производиться с учетом регистра символов имён.
Если опция
.I С учётом регистра
отключена, то регистр символов учитываться не будет.
.\"NODE "Diff Viewer"
.SH "Встроенная программа сравнения файлов"
mcdiff \- это встроенное средство для сравнения файлов, позволяющее сравнить два файла.
Также оно позволяет редактировать их (после завершения редактирования произойдет
обновление различий). Можно просматривать файлы, находящиеся под контролем различных
систем управления версиями, такими как GIT, Subversion и другие.
.PP
Ниже представлен список горячих клавиш, используемых во встроенной утилите сравнения
файлов mcdiff.
.PP
.B F1
Вызов встроенной помощи.
.PP
.B F2
Сохранение изменений в файлах.
.PP
.B F4
Редактирование файла в левой панели.
.PP
.B F14
Редактирование файла в правой панели.
.PP
.B F5
Произвести слияние текушего изменения.
.PP
.B F7
Вызов диалогового окна для задания шаблона поиска.
.PP
.B F17
Продолжение поиска в соответствии с ранее определенным шаблоном.
.PP
.B F10, Esc, q
Выход.
.PP
.B Alt\-s, s
Включить/выключить показ статуса различий.
.PP
.B Alt\-n, l
Включить/выключить показ номеров строк.
.PP
.B f
Увеличить левую панель до максимума.
.PP
.B \=
Сделать панели равными по ширине.
.PP
.B \>
Увеличить левую панель.
.PP
.B \<
Увеличить правую панель.
.PP
.B c
Включить/выключить показ символов конца строки (CR) как ^M.
.PP
.B 2, 3, 4, 8
Установить размер табуляции.
.PP
.B C\-u
Поменять панели местами.
.PP
.B C\-r
Обновить экран.
.PP
.B C\-o
Переключиться в подоболочку и показать окно команд.
.PP
.B Enter, Space, n
Найти следующее различие.
.PP
.B Backspace, p
Найти предыдущее различие.
.PP
.B g
Показать диалог перехода к строке.
.PP
.B Down
Перемещение на одну строку вниз.
.PP
.B Up
Перемещение на одну строку вверх.
.PP
.B PageUp
Перемещение на одну страницу вверх.
.PP
.B PageDown
Перемещение на одну страницу вниз.
.PP
.B Home, A1
Перемещение к началу строки.
.PP
.B End
Перемещение в конец строки.
.PP
.B C\-Home
Перемещение в начало файла.
.PP
.B C\-End, C1
Перемещение в конец файла.
.\"NODE "Internal File Viewer"
.SH "Встроенная программа просмотра файлов"
Встроенная программа просмотра файлов имеет два режима просмотра: режим
ASCII и шестнадцатеричный (hex). Для переключения режимов используется
клавиша F4. Если у вас установлена программа gzip проекта GNU, она будет
использована для автоматического просмотра сжатых файлов.
.PP
Встроенная программа просмотра всегда пытается использовать для
отображения информации лучший из методов, предоставляемых вашей системой
для данного типа файла. Некоторые последовательности символов
интерпретируются для задания таких атрибутов, как жирный шрифт и
подчеркивание, обеспечивая более наглядное представление информации.
.PP
В шестнадцатеричном режиме функция поиска позволяет задать строку поиска
как в обычном текстовом виде (заключенном в кавычки), так и в виде
шестнадцатеричных констант. Можно даже одновременно использовать в
шаблоне поиска как ту, так и другую форму представления, например:
.PP
.nf
"String" \-1 0xBB 012 "more text"
.fi
.PP
Обратите внимание, что 012 является восьмеричным числом, \-1
преобразовывается в 0xFF, а текст между кавычками и константами
игнорируется.
.PP
Некоторые детали внутренней реализации программы просмотра: на системах,
которые предоставляют системный вызов mmap(2) программа отображает файл
в память вместо его загрузки; иначе, а также если при вызове mmap
возникает сбой или c файлом связано некоторое действие, которое требует
фильтр, программа использует динамически распределяемые буфера памяти,
загружая только те части файла, к которым вы обращаетесь (это относится
к архивированным файлам).
.PP
Ниже приводится перечень всех клавиш и их комбинаций, с которыми
ассоциированы некие действия встроенной программы просмотра.
.PP
.B F1
Вызывает просмотр встроенной гипертекстовой подсказки.
.PP
.B F2
Переключает режим переноса строки.
.PP
.B F4
Переключает между ASCII и шестнадцатеричным режимами.
.PP
.B F5
Переход к строке по номеру. Будет запрошен номер строки, к просмотру
которой вы хотите перейти.
.PP
.BR F6 ", " /
Поиск по регулярному выражению.
.PP
.B ?
Поиск назад по регулярному выражению.
.PP
.B F7
Вызов диалогового окна для задания шаблона поиска для обычного и
шестнадцатеричного поиска.
.PP
.B C\-s, F17, n
Если шаблон поиска еще не задан, вызывается диалоговое окно для его
задания, иначе повторяется поиск (дальше по тексту) в соответствии с
ранее определенным шаблоном.
.PP
.B C\-r
То же, что и
.BR C\-s ,
но поиск производится в обратном направлении.
.PP
.B n
Найти следующее совпадение.
.PP
.B F8
Переключение между режимами Raw/Parsed: файл отображается либо в том
виде, как он записан на диске, либо пропущенным через фильтр, который
задан для этого типа файлов в mc.ext. Текущий режим отображения всегда
обратный по отношению к тому, который указан на экранной кнопке F8,
поскольку на кнопке указывается режим, к которому осуществляется переход
по данной кнопке.
.PP
.B F9
Переключение между режимами отображения текста в форматированном и
неформатированном виде: в режиме отображения форматированного текста
некоторые последовательности символов отображаются другим цветом для
выделения жирного и подчеркнутого шрифта. Как и в предыдущем случае, на
кнопке указан режим, обратный по отношению к текущему.
.PP
.B F3, F10, Esc, q
Выйти из встроенной программы просмотра.
.PP
.B PageDown, пробел, C\-v
Переместиться на страницу вперед.
.PP
.B PageUp, M\-v, Backspace
Переместиться на страницу назад.
.PP
.B стрелка вниз
Переместиться на одну строку вперед.
.PP
.B стрелка вверх
Переместиться на одну строку назад.
.PP
.B C\-l
Обновить изображение на экране.
.PP
.B C\-o
Переключиться в subshell и показать окно команд.
.PP
.B [n] m
Установить метку с номером n (кавычки не вводятся).
.PP
.B [n] r
Переместиться к метке с номером n.
.PP
.B C\-f
Перейти к просмотру следующего файла текущего каталога.
.PP
.B C\-b
Перейти к просмотру предыдущего файла в текущем каталоге.
.PP
.B M\-r
Переключение режима отображения линейки (вверху/внизу/отключена).
.PP
Можно настроить режимы отображения файлов встроенной программой
просмотра, воспользовавшись
.\"LINK2"
файлом расширений\&.
.\"Extension File Edit"

.\"NODE "Internal File Editor"
.SH "Встроенный редактор"
Встроенный редактор обеспечивает выполнение большинства функций
редактирования, присущих полноэкранным редакторам текста. Он вызывается
нажатием клавиши
.B F4
при условии, что в инициализационном файле установлена в 1 опция
.IR use_internal_edit .
Размер редактируемого файла не может превышать 64 Мегабайт. С помощью
этого редактора можно редактировать двоичные файлы без потери данных.
.PP
Поддерживаются следующие возможности: копирование, перемещение,
удаление, вырезание и вставка блоков текста; отмена предыдущих операций
.I (key for key undo);
выпадающие меню; вставка файлов; макроопределения; поиск и замена по
регулярным выражениям; выделение текста по комбинации клавиш
shift\-стрелки в стиле MSW\-MAC (только для linux\-консоли);
переключение между режимами вставки\-замены символа; а
также операция обработки блоков текста командами оболочки (an option to
pipe text blocks through shell commands like indent).

.PP
Разделы:
.IP

.\"LINK2"
Опции в ini\-файле для редактора
.\"Internal File Editor / options"

.PP
Редактор очень прост и практически не требует обучения. Для того, чтобы
узнать, какие клавиши вызывают выполнение определенных действий,
достаточно просмотреть выпадающие меню, которые вызываются нажатием
клавиши F9 в окне редактора. Не перечисленные в меню комбинации клавиш:
.B Shift\-<клавиши стрелок>
выделение блока текста.
.B Ctrl\-Ins
копирует блок в файл
.BR mcedit.clip .
.B Shift\-Ins
производит вставку последнего скопированного в mcedit.clip блока в
позицию курсора.
.B Shift\-Del
удаляет выделенный блок текста, запоминая его в файле
.BR mcedit.clip .
По клавише Enter вставляются символы конца строки, причем на следующей
строке автоматически устанавливается отступ. Работает выделение текста с
помощью мыши, причем если удерживать клавишу Shift, то управление мышью
осуществляется терминальным драйвером мыши.
.PP
Для того, чтобы определить макрос, нажмите
.BR Ctrl\-R ,
после чего введите строки команд, которые должны быть выполнены. После
завершения ввода команд снова нажмите
.B Ctrl\-R
и свяжите макрос с какой\-нибудь клавишей или комбинацией клавиш, нажав
эту клавишу (комбинацию). Макрос будет вызываться нажатием
.B Ctrl\-A
и назначенной для него клавиши. Макрос можно также вызвать нажатием
любой из клавиш Meta (Alt), Ctrl, или Esc и назначенной макросу клавиши,
при условии, что данная комбинация не используется для вызова какой\-либо
другой функции. Макрокоманды после определения записываются в файл
.B ~/.local/share/mc/mcedit/mcedit.macros
в вашем домашнем каталоге. Вы можете удалить макрос удалением
соответствующей строки в этом файле.
.PP
По клавише
.B F19
(ее нет на обычной клавиатуре IBM PC, так что придется пользоваться
соответствующим пунктом меню, вызываемым по клавише F9, или
переназначить клавишу) будет осуществляться форматирование выделенного
блока кода на языке C, C++ или других. Форматирование управляется файлом
.B %prefix%/share/mc/edit.indent.rc
который при первом вызове копируется в
.B ~/.local/share/mc/mcedit/edit.indent.rc
в вашем домашнем каталоге.
.PP
Встроенный редактор обрабатывает символы из второй половины кодовой
таблицы (160+). Но когда редактируете бинарные файлы, лучше установить
опцию
.B "Биты символов"
из меню "Настройки" в положение "7 бит", чтобы сохранить формат файла
(to keep the spacing clean).
.PP
Описать все функции встроенного редактора в данной подсказке невозможно.
Запомните только, что все основные операции можно выполнить через пункты
меню, которое вызывается нажатием клавиши
.B F9
в окне редактирования. Кроме того, можно прочитать man\-страницу по
команде
.B man mcedit
или
.B info mcedit

.\"NODE "Internal File Editor / options"
.SH "Опции в ini\-файле для редактора"
.PP
В данном разделе кратко описаны опции ini\-файла, относящиеся к редактору.
Опции записываются в секцию [Midnight\-Commander].
.TP
.I editor_wordcompletion_collect_entire_file
При автодополнении для сбора похожих слов слов просматривать весь файл(1)
или только от начала до курсора (0)

.\"NODE "Screen selector"
.SH "Список экранов"
Midnight Commander поддерживает возможность одновременной работы своих
встроенных модулей (таких как редактор, программа просмотра, программа сравнения
файлов) и переключения между ними без необходимости закрытия загруженных файлов.
Файловый менеджер может быть только один, несколько файловых менеджеров,
работающих одновременно, не поддерживаются. Назовём каждый из таких модулей
экраном.
.PP
Есть три способа переключения между экранами:
переходк к следующему экрану в списке клавиатурной комбинацией
.BR Alt\-} ,
переходк к предыдущему экрану в списке клавиатурной комбинацией
.BR Alt\-{ ,
вызов дилогового окна со списком экранов клавиатурной комбинацией
.BR Alt\-`
или с помощью пункта меню.
Все эти комбинации клавиш одинаковы во всех экранах.

.\"NODE "Completion"
.SH "Завершение ввода"
Заставьте Midnight Commander работать на клавиатуре вместо вас!
.PP
Завершение ввода \- это попытка закончить за вас ввод текста, набранного
до текущей позиции курсора. MC пытается завершить ввод, трактуя уже
введенный текст как переменную (если текст начинается с
.BR $ ")",
имя пользователя (если текст начинается с
.BR ~ ")",
имя машины (если текст начинается на
.BR @ ")"
или как команду (если вы в командной строке в позиции, где вы можете
вводить команду; в этом случае для завершения ввода используются
зарезервированные слова оболочки, в том числе любая из встроенных команд
оболочки). Если введенный текст не попадает ни в одну из перечисленных
категорий, выполняется попытка завершения текста как имени файла.
.PP
Завершение имен файлов, пользователей, переменных и машин работает во
всех строках ввода, завершение команд \- только в командной строке. Если
однозначно выполнить завершение ввода невозможно (имеется несколько
вариантов), MC издает звуковой сигнал и выполняет следующие действия, в
зависимости от установки опции
.\"LINK2"
Дополнение: показывать всё
.\"Configuration"
в пункте меню
.\"LINK2"
Настройки/Конфигурация\&.
.\"Configuration"
Если эта опция включена, список всех возможных вариантов завершения
появляется возле текущей позиции и вы можете выбрать нужный вариант с
помощью клавиш стрелок и
.BR Enter .
Вы можете также набрать следующую букву, чтобы перейти к подмножеству
всех возможных завершений. Если вы снова нажмете
.BR M\-Tab ,
будет выведено уже сокращенное множество вариантов, причем в строку
ввода добавляются те символы, которые определяются однозначно (даже если
полное завершение ввода еще невозможно). Как только неопределенность
выбора исчезает, пропадает и диалоговое окно с вариантами. Вы можете
отказаться от вывода на экран этого окна в любое время, нажав одну из
клавиш
.BR Esc ", " F10
или стрелку влево/вправо. Если опция
.\"LINK2"
Дополнение: показывать всё
.\"Configuration"
отключена, окно с вариантами завершения появляется только тогда, когда
вы нажмете клавиши
.B M\-Tab
второй раз, при первом нажатии MC только издает звуковой сигнал.
.PP
Используйте экранирование символов
.BR ? ", " * " и " &
(как
.BR \\? ", " \\* ", " \\& )
в именах файлов, чтобы они не рассматривались как метасимволы в регулярных
выражениях при подстановках в полях ввода.

.\"NODE "Virtual File System"
.SH "Виртуальные файловые системы"
Программа Midnight Commander содержит подпрограммы, обеспечивающие
доступ к различным файловым системам. Эти подпрограммы (их совокупность
называется переключателем виртуальных файловых систем \- virtual file
system switch) позволяют Midnight Commander\-у манипулировать файлами,
расположенными на не\-Unix\-овых файловых системах.
.PP
В настоящее время Midnight Commander обеспечивает поддержку нескольких
Виртуальных Файловых Систем \- ВФС (VFS):
.br
\- локальной файловой системы, используемой для обычных файловых систем
Unix;
.br
\- файловой системы ftpfs, используемой для манипулирования файлами на
удаленных компьютерах по протоколу FTP;
.br
\- файловой системы tarfs, используемой для обработки tar\- и сжатых
tar\-файлов;
.br
\- файловой системы undelfs, используемой для восстановления удаленных
файлов в файловой системе ext2 (файловая система, используемая в Linux
по умолчанию);
.br
\- файловой системы fish (для манипулирования файлами при работе с
оболочкой через такие программы как rsh и ssh);
.br
\- и, наконец, сетевой файловой системы nfs.
.br
MC может быть собран с поддержкой файловой системы smbfs, используемой
для манипулирования файлами на удаленных компьютерах по протоколу SMB
(CIFS).
.PP
Подпрограммы работы с виртуальными файловыми системами интерпретируют
все встречающиеся имена путей и формируют корректные обращения к
различным файловым системам. Форматы обращения к каждой из виртуальных
файловых систем описаны в отдельных разделах по каждой ВФС:
.IP
.\"LINK2"
Файловая система ftpfs (FTP File System)
.\"FTP File System"
.br
.\"LINK2"
Файловая система tar
.\"Tar File System"
.br
.\"LINK2"
Файловая система FISH (FIle transfer over SHell)
.\"FIle transfer over SHell filesystem"
.br
.\"LINK2"
Файловая система SFTP (SSH File Transfer Protocol)
.\"SFTP (SSH File Transfer Protocol) filesystem"
.br
.\"LINK2"
Файловая система UFS (Undelete File System)
.\"Undelete File System"
.br
.\"LINK2"
Файловая система smbfs
.\"SMB File System"
.\"NODE "  FTP File System"
.SH "Файловая система ftpfs"
Файловая система ftpfs позволяет работать с файлами на удаленных
компьютерах. Для этого можно использовать команду "FTP\-соединение"
(доступную из меню левой и правой панелей) или же непосредственно
сменить текущий каталог командой cd, задав путь к каталогу следующим
образом:
.PP
.I ftp://[!][user[:pass]@]machine[:port][remote\-dir]
.PP
Элементы
.IR user ", " port
и
.I remote\-dir
не обязательны. Если элемент
.I user
указан, то Midnight Commander будет пытаться регистрироваться на
удаленном компьютере с эти именем, в противном случае будет использовано
имя anonymous или имя из файла ~/.netrc.
Необязательный элемент
.I pass
(если указан) используется как пароль для входа. Однако явно задавать
его не рекомендуется (также не записывайте его в ваши каталоги быстрого доступа,
если только вы не обеспечили соответствующую защиту этих файлов; но и тогда
нельзя быть полностью уверенным в безопасности).
.PP
.nf
    ftp://ftp.nuclecu.unam.mx/linux/local
    ftp://tsx\-11.mit.edu/pub/linux/packages
    ftp://!behind.firewall.edu/pub
    ftp://guest@remote\-host.com:40/pub
    ftp://miguel:xxx@server/pub
.fi
.PP
Для того, чтобы соединиться с сервером, который расположен за firewall,
нужно использовать префикс ftp://! (то есть добавить восклицательный
знак перед именем сервера), чтобы указать Midnight Commander на
необходимость использовать прокси для осуществления передач по ftp. Вы
можете задать имя прокси в диалоговом окне
.\"LINK2"
Виртуальные ФС...
.\"Virtual FS"
меню "Настройки".
.PP
Чтобы не задавать имя прокси\-сервера каждый раз, можно поставить отметку
в квадратных скобках возле опции
.I Всегда использовать FTP прокси
в диалоговом окне
.\"LINK2"
Виртуальные ФС...
.\"Virtual FS"
меню "Настройки". В таком случае программа всегда будет использовать
указанный прокси\-сервер. При этом (если опция установлена) программа
делает следующее: считывает из файла
.B %prefix%/share/mc/mc.no_proxy
имена локальных машин (если имя начинается с точки, оно считается именем
домена), и, если заданное при установлении FTP\-соединения имя машины
совпадает с одним из имен, указанных в файле
.B mc.no_proxy
без точки, то производит прямое обращение к данной машине.
.PP
При подключении к ftp\-серверу через фильтрующий пакеты
маршрутизатор (If you are using the ftpfs code with a filtering packet
router), который не позволяет использовать обычный режим открытия
файлов, можно заставить программу работать в режиме пассивного
открытия файла (the passive\-open mode). Для этого установите в
инициализационном файле опцию
.I ftpfs_use_passive_connections
в 1.
.PP
Midnight Commander сохраняет в течение заданного интервала времени
список файлов удаленного каталога, прочитанный по FTP, в оперативной
памяти. Величина этого интервала времени задается в диалоговом окне
.\"LINK2"
Виртуальные ФС...
.\"Virtual FS"
меню "Настройки". В силу этого возможен побочный эффект, заключающийся в
том, что даже если вы сделали какие\-то изменения в каталоге, они не
будут отображаться в панели до тех пор, пока вы не обновите содержимое
панели командой
.BR C\-r .
Это не является недоработкой (если вы думаете, что это ошибка,
поразмыслите над тем, как происходит работа по FTP с файлами,
находящимися на другой стороне Атлантического океана).
.\"NODE "  Tar File System"
.SH "Файловая система tar"
Файловая система tar обеспечивает доступ по чтению к tar\- и сжатым
tar\-файлам, используя команду chdir. Для перехода в каталог,
представляющий список файлов tar\-файла, нужно использовать команду,
имеющую следующий формат:
.PP
.I cd ./filename.tar/utar://[dir\-inside\-tar]
.PP
Файл mc.ext по умолчанию содержит команды для просмотра
tar\-файлов, то есть обычно для получения списка файлов tar\-архива
достаточно  просто переместить указатель на имя tar\-файла и нажать
Enter. Чтобы понять, как это достигается, смотрите раздел
.\"LINK2"
Файл расширений\&.
.\"Extension File Edit"
.PP
Примеры:
.PP
.nf
    mc\-3.0.tar.gz/utar://mc\-3.0/vfs
    /ftp/GCC/gcc\-2.7.0.tar/utar://
.fi
.PP
В последнем примере указан полный путь к tar\-архиву.
.\"NODE "  FIle transfer over SHell filesystem"
.SH "  Файловая система FISH (FIle transfer over SHell)"
Файловая система fish \- это сетевая файловая система, которая позволяет
работать с файлами на удаленном компьютере так, как если бы они были
расположены на вашем диске. Для того, чтобы это было возможно, на
удаленном компьютере должен быть запущен fish\-сервер, или
bash\-совместимая оболочка shell.
.PP
Для соединения с удаленным компьютером нужно выполнить команду
перехода в каталог (chdir), имя которого задается в следующем формате:
.PP
.I sh://[user@]machine[:options]/[remote\-dir]
.PP
Элементы
.IR user ", " options
и
.I remote\-dir
не обязательны. Если задан элемент
.IR user ,
то Midnight Commander будет регистрироваться на удаленный компьютер под
этим именем, в противном случае \- под тем именем, с которым вы
зарегистрированы в локальной системе.
.PP
В качестве
.I options
могут использоваться:
.nf
  'C' \- использовать сжатие;
  'r' \- использовать rsh вместо ssh;
  port \- использовать данный порт для поключения
к удалённому компьютеру.
.fi
Если задан элемент
.IR remote\-dir ,
то указанный каталог станет текущим после соединения с удаленным
компьютером.
.PP
Примеры:
.PP
.nf
    sh://onlyrsh.mx:r/linux/local
    sh://joe@want.compression.edu:C/private
    sh://joe@noncompressed.ssh.edu/private
    sh://joe@somehost.ssh.edu:2222/private
.fi
.\"NODE "  SFTP (SSH File Transfer Protocol) filesystem"
.SH "  Файловая система SFTP (SSH File Transfer Protocol)"
Файловая система SFTP \- это сетевая файловая система, которая позволяет
работать с файлами на удаленном компьютере так, как если бы они были
расположены на вашем диске. Для того, чтобы это было возможно, на
удаленном компьютере должен быть запущен sftp\-сервер.
.PP
Для соединения с удаленным компьютером нужно выполнить команду
перехода в каталог (chdir), имя которого задается в следующем формате:
.PP
.I sftp://[user@]machine[:port]/[remote\-dir]
.PP
Элементы
.IR user ", " port
и
.I remote\-dir
не обязательны. Если задан элемент
.IR user ,
то Midnight Commander будет регистрироваться на удаленный компьютер под
этим именем, в противном случае \- под тем именем, с которым вы
зарегистрированы в локальной системе.
Если задан
.I port
то он будет использован для поключения к удалённому компьютеру.
Если задан элемент
.IR remote\-dir ,
то указанный каталог станет текущим после соединения с удаленным
компьютером.
.PP
Примеры:
.PP
.nf
    sftp://onlyrsh.mx/linux/local
    sftp://joe:password@want.compression.edu/private
    sftp://joe@noncompressed.ssh.edu/private
    sftp://joe@somehost.ssh.edu:2222/private
.fi
.\"NODE "  Undelete File System"
.SH "  Файловая система UFS (Undelete File System)"
В ОС Linux можно сконфигурировать файловую систему ext2fs, используемую
по умолчанию, таким образом, что появится возможность восстанавливать
удаленные файлы (но только в файловой системе ext2). Файловая система
UFS (Undelete File System) представляет собой интерфейс к библиотекам
ext2fs, позволяющий восстановить имена всех удаленных файлов, выбрать
некоторое количество таких файлов и восстановить их.
.PP
Для того, чтобы воспользоваться этой возможностью (этой файловой
системой), нужно выполнить команду перехода (chdir) в специальный
каталог, имя которого образуется из префикса  "undel://" и имени
специального файла устройства, на котором находится реальная файловая
система.
.PP
Например, чтобы восстановить удаленные файлы на втором разделе первого
SCSI\-диска, нужно использовать следующее имя:
.PP
.nf
    undel://sda2
.fi
.PP
Загрузка списка удаленных файлов требует некоторого времени, так что
наберитесь терпения. Имейте в виду, что имена файлов в полученном списке
будут цифровыми, так что поиск нужного придется проводить либо по дате,
либо последовательным просмотром содержимого (в общем, я вам не
завидую!).
.\"NODE "  SMB File System"
.SH "  Файловая система smbfs"
Файловая система smbfs позволяет работать с файлами на удаленных
компьютерах по протоколу SMB (CIFS) (Windows for Workgroups, Windows
9x/ME/XP, Windows NT, Windows 2000 и Samba). Для этого можно
использовать пункт "SMB связь..." (доступный из меню левой и правой
панелей) или же непосредственно сменить текущий каталог командой cd,
задав путь к каталогу следующим образом:
.PP
.I smb://[username@]machine[/service][/remote\-dir]
.PP
Элементы
.IR username ", " service
и
.I remote\-dir
необязательны.
.IR username ", " domain
и
.I password
могут быть указаны в окне диалога.
.PP
Примеры:
.PP
.nf
    smb://machine/Share
    smb://other_machine
    smb://guest@machine/Public/Irlex
.fi
.\"NODE "  EXTernal File System"
.SH "  Внешняя файловая система (EXTernal File System)"
.B extfs
Внешняя файловая система позволяет очень просто интегрировать новые
файловые контейнера и типы файлов простым написанием скриптов.
.PP
Файловая система Extfs подраздляется на две категории:
.PP
1. Автономные файловые системы, которые не ассоциированы ни с одним из
типов файлов.они представляют некоторые системные данные как дерево каталогов
Вы можете их вызвать набрав
.RI ' "cd fsname://" '
Где fsname \- это короткое имя extfs (см. ниже).  Примеры этих ВФС включают
audio (список всех звуковых дорожек на CD) или apt (список всех установленных
в системе пакетов Debian).
.PP
Например, для получения списка звуковых дорожек на CD наберите:
.PP
.nf
  cd audio://
.fi
.PP
2. "Архивные" файловые системы (такие как rpm, patchfs и прочие), представляют
содержимое файла как дерево каталогов.  Они могут состоять из 'реальных' файлов,
находящихся в сжатом виде в архивах (urar, rpm) или из виртуальных файлов;
например, сообщения в файле mailbox (mailfs) или части diff\-файла (patchfs).
Для доступа к этим ВФС суффикс
.RI 'fsname:// '
должен быть добавлен к имени архива. Сам архив может находиться в другой ВФС.
.PP
Например, для получения списка содержимого архива documents.zip наберите:
.PP
.nf
  cd documents.zip/uzip://
.fi
.PP
Можно манипулировать extfs\-путями как обычными каталогами и файлами. Например,
можно добавить их в каталоги быстрого доступа или перейти на него из истории
каталогов в панели. Основное ограничение: нельзя запускать shell\-команды
внутри extfs, как и на любой другой нелокальной ВФС.
.PP
Список некоторых extfs\-скриптов, включённых в Midnight Commander:
.TP
.B a
доступ к DOS/Windows диску 'A:'
.RI ( "cd a://" ).
.TP
.B apt
front end для системы управления пакетами APT (Debian)
.RI ( "cd apt://" ).
.TP
.B audio
Чтение и воспроизведение звуковых дорожек с CD
.RI ( "cd audio://"
or
.IR "cd device/audio://" ).
.TP
.B bpp
пакеты дистрибутива Bad Penguin GNU/Linux
.RI ( "cd file.bpp/bpp://" ).
.TP
.B deb
пакеты дистрибутива Debian GNU/Linux
.RI ( "cd file.deb/deb://" ).
.TP
.B dpkg
Управление установленными deb\-пакетами
.RI ( "cd deb://" ).
.TP
.B hp48
просмотр и копирование файлов с/на калькулятор HP48
.RI ( "cd hp48://" ).
.TP
.B lslR
просмотр lslR\-файлов, находящихся на многих FTP\-серверах
.RI ( "cd filename/lslR://" ).
.TP
.B mailfs
поддержка файлов формата mailbox
.RI ( "cd mailbox/mailfs://" ).
.TP
.B patchfs
поддержка diff\-файлов
.RI ( "cd filename/patchfs://" ).
.TP
.B rpm
поддержка файлов в формате RPM
.RI ( "cd filename/rpm://" ).
.TP
.B rpms
Управление установленными в системе RPM\-пакетами
.RI ( "cd rpms://" ).
.TP
.B ulha, urar, uzip, uzoo, uar, uha
архивы
.RI ( "cd archive/xxxx://"
где xxxx один из:
.IR ulha ,
.IR urar ,
.IR uzip ,
.IR uzoo ,
.IR uar ,
.IR uha ).
.PP
Вы можете назначить ВФС файлах по типу или расширению в секции
.\"LINK2"
Файл расширений
.\"Extension File Edit"
Например, для обработки пакетов Debian внесите:
.PP
.nf
  regex/\.deb$
          Open=%cd %p/deb://
.fi
.\"NODE "Colors"
.SH "Цвета"
Программа Midnight Commander пытается определить, поддерживает ли ваш
терминал цвета, используя для этого базу данных о терминалах и имя
вашего терминала. Иногда это не удается. В таких случаях можно
включить или отключить цветной вывод, используя ключи запуска программы
\-c и \-b, соответственно.
.PP
Программа может быть скомпилирована с использованием библиотек
.B ncurses
или
.BR slang .
.B ncurses
не дает возможности включать цветной режим: ncurses использует только
информацию из базы данных о терминалах. Для того, чтобы узнать, какая
библиотека была использована при компиляции, дайте команду
.BR "mc \-V" .
.PP
Если программа скомпилирована с использованием менеджера экрана
.BR S\-Lang ,
она проверяет значение переменной
.BR COLORTERM .
Задание этой переменной дает тот же эффект, что и задание ключа \-c.
.PP
Можно указать терминалы, которые всегда должны работать в цветном
режиме, добавив строку
.I color_terminals
в секцию Colors инициализационного файла. В этом случае Midnight
Commander не будет пытаться определить, поддерживает ли ваш терминал
цветной вывод. Пример:
.PP
.nf
[Colors]
color_terminals=linux,xterm
.fi
.nf
color_terminals=terminal\-name1,terminal\-name2...
.fi
.PP
Midnight Commander обеспечивает также возможность изменять цвета,
заданные по умолчанию. В настоящее время таблица используемых цветов
задается переменной
.B MC_COLOR_TABLE
или в секции Colors инициализационного файла.
.PP
В секции Colors загружаемая по умолчанию таблица цветов определяется
переменной (строкой)
.IR base_color .
Вы можете указать альтернативную таблицу цветов для терминала, используя
имя терминала как ключ в этой секции. Пример:
.PP
.nf
[Colors]
base_color=
xterm=menu=magenta:marked=,magenta:markselect=,red
.fi
.PP
Формат определения цвета:
.PP
.nf
  <keyword>=<fgcolor>,<bgcolor>,<attributes>:<keyword>= ...
.fi
.PP
Цвета не являются обязательными, а в качестве ключевых слов (keywords)
могут использоваться: для задания цветовой палитры в панелях: normal,
selected, disabled, marked, markselect, errors, input, inputmark, inputunchanged,
commandlinemark, reverse, gauge, header, inputhistory, commandhistory. Цвета
строки горячих клавиш F1\-F10: bbarhotkey, bbarbutton. Цвет строки статуса
редактора и программ просмотра и сравнения файлов: statusbar. Цвета пунктов меню:
menunormal, menusel, menuhot, menuhotsel, menuinactive. Цвета в окне диалога:
dnormal, dfocus, dhotnormal, dhotfocus. Цвета в диалоге\-сообщении об ошибке:
errdfocus, errdhotnormal, errdhotfocus, errdtitle. Цвета в окне встроенной
помощи: helpnormal, helpitalic, helpbold, helplink, helpslink. Цвета в окне
программы просмотра: viewbold, viewunderline, viewselected. Цвета в редакторе:
editnormal, editbold, editmarked, editwhitespace, editlinestate.
Цвета окна всплывающего меню: pmenunormal, pmenusel, pmenutitle.
.PP
Цвета задавать не обязательно. Цвет какого именно поля определяется
каждым ключевым словом, можно понять из перевода этого ключевого слова.
Некоторые случаи требуют пояснений.
.PP
.I header
определяет цвет заголовка панели, строку, содержащую заголовки панелей
и индикатор сортировки.
.PP
.I input
определяет цвета в строке ввода в диалоговых окнах;
.PP
.I inputmark
цвет выделенного текста в строке ввода в диалоговых окнах;
.PP
.I inputunchanged
цвет текста в строке ввода до первого изменения или до перемещения курсора;
.PP
.I commandlinemark
цвет выделенного текста в командной строке;
.PP
.I gauge
определяет цвет заполненной части полоски (progress bar), при
графическом отображении хода выполнения файловых операций (копирование и
др.).
.I disabled
определяет цвет элемента диалога, который не может по каким\-то причинам быть выбран
для работы с ним.
.PP
Диалоговые окна используют следующие цвета:
.I dnormal
используется для нормального текста,
.I dfocus
\- цвет, используемый
для выделенного в данный момент компонента окна,
.I dhotnormal
\- цвет, используемый для выделения "горячих" клавиш в обычных
компонентах, в то время как цвет
.I dhotfocus
используется для выделения "горячих" клавиш в выбранных в данный момент
компонентах окна.
.PP
В меню используется та же самая схема, только в качестве названий
элементов используются menunormal, menusel, menuhot, menuhotsel и menuinactive.
.PP
Окно подсказки использует следующие цвета:
.I helpnormal
\- для отображения простого текста,
.I helpitalic
\- для вывода текста, выделенного в man\-страницах курсивом,
.I helpbold
\- для вывода текста, выделенного в man\-страницах жирным шрифтом,
.I helplink
\- для выделения неактивных гиперссылок,
.I helpslink
\- для выделения активной в данный момент гиперссылки.
.PP
Во всплывающем меню используются следующие цвета:
.I pmenunormal
\- для невыбранных пунктов меню и как основной цвет окна,
.I pmenusel
\- для выбранного пункта меню,
.I pmenutitle
\- для заголовка окна меню.
.PP
Возможные цвета: black, gray, red, brightred, green, brightgreen, brown,
yellow, blue, brightblue, magenta, brightmagenta, cyan, brightcyan,
lightgray и white. Для прозрачного фона используются специальное ключевое
слово "default". Слово "default" можно использовать только при задании цвета
фона. Для основных цветов MC используется другое специальное ключевое
слово: "base". Если терминал поддерживает 256 цветов, то для них могут
использоваться обозначения: от color16 до color255 или от rgb000 до rgb555
и от gray0 до gray23.
Пример:
.PP
.nf
[Colors]
base_color=normal=white,default:marked=magenta,default
.fi
.PP
Атрибуты обозначаются словами "bold", "underline", "reverse" и "blink".
Чтобы использовать несколько атрибутов, их надо перечислить через символ "+".
The special word "none" menas no attributes, without attempting to fall back
to base_color. Пример:
.PP
.nf
menuhotsel=yellow;black;bold+underline
.fi
.\"NODE "Skins"
.SH "Внешний вид"
Вы можете изменить внешний вид Midnight Commander'а. Для этого необходимо
указать файл, в котором указаны цвета и линии для отрисовки рамок. Такой
файл называется далее скин\-файл. переопределение внешнего вида полностью
совместимо с заданием цветов, описанным в секции
.\"LINK2"
Цвета\&.
.\"Colors"
.PP
Если скин содержит описание любого из 256\-ти цветов, то необходимо установить
опцию '256colors' со значением TRUE в секции [skin].
.PP
Поиск скин\-файла производится по следующему алгоритму (до
первого нахождения файла):
.IP
.br
1) параметр командной строки 
.B \-S \<скин\>
или
.B \-\-skin=\<скин\>
.br
2) переменная окружения
.B MC_SKIN
.br
3) параметр
.B skin
в секции
.B [Midnight\-Commander]
конфигурационного файла.
.br
4) файл
.B %sysconfdir%/mc/skins/default.ini
.br
5) файл
.B %prefix%/share/mc/skins/default.ini
.PP
Параметры в трёх первых случаях могут содержать абсолютный путь к скин\-файлу
либо просто название скина (с расширением \.ini либо без него). В данном 
случае поиск скин\-файла будет происходить по следующим каталогам (до первого
нахождения):
.IP
.br
1)
.B ~/.local/share/mc/skins/
.br
2)
.B %sysconfdir%/mc/skins/
.br
3)
.B %prefix%/share/mc/skins/
.br
.PP
Для получения расширенной информации, обратитесь к подразделам:
.IP
.\"LINK2"
Описание секций и параметров
.\"Skins sections"
.br
.\"LINK2"
Опеределения цветовых пар
.\"Skins colors"
.br
.\"LINK2"
Линии для отрисовки рамок
.\"Skins lines"
.br
.\"LINK2"
Совместимость
.\"Skins oldcolors"
.br

.\"NODE "  Skins sections"
.SH "  Описание секций"
Секция
.B [skin]
содержит информацию, относящуюся к самому скин\-файлу. Параметр 
.I description
кратко описывает скин.

.PP
Секция
.B [filehighlight]
содержит описания цветовых пар для групп подсветок имен файлов.
Названия параметров в секции должно совпадать с названиями секций в файле подсветки.
Смотрите раздел 
.\"LINK2"
Подсветка имён файлов
.\"Filenames Highlight"
для получения подробной информации.

.PP
Секция
.B [core]
содержит описание элементов, используемых повсеместно.
.TP
.I _default_
Цвет по умолчанию. Используется во всех остальных секциях (глобальный параметр), если в них нет переопределения
.TP
.I selected
курсор
.TP
.I marked
отмеченные данные
.TP
.I markselect
курсор на отмеченных данных
.TP
.I gauge
цвет заполненной части полоски (progress bar)
.TP
.I input
элемент ввода данных
.TP
.I reverse
инвертированный цвет

.PP
Секция
.B [dialog]
содержит описания элементов диалоговых окон (кроме сообщений об ошибках).
.TP
.I _default_
Цвет по умолчанию для данной секции. Если не указан, то используется [core]._default_
.TP
.I dfocus
Цвет элемента, находящегося в фокусе
.TP
.I dhotnormal
Цвет хоткеев
.TP
.I dhotfocus
Цвет хоткеев, находящихся в фокусе

.PP
Секция
.B [error]
содержит описания элементов диалога\-сообщения об ошибках.
.TP
.I _default_
Цвет по умолчанию для данной секции. Если не указан, то используется [core]._default_
.TP
.I errdhotnormal
Цвет хоткеев
.TP
.I errdhotfocus
Цвет хоткеев, находящихся в фокусе

.PP
Секция
.B [menu]
содержит описание элементов, отображающихся в меню. Это касается как системного меню
(вызываемого клавишей F9), так и пользовательских меню (F2 в панелях или F11 в редакторе).
.TP
.I _default_
Цвет по умолчанию для данной секции. Если не указан, то используется [core]._default_
.TP
.I entry
Цвет пунктов меню
.TP
.I menuhot
Цвет хоткеев
.TP
.I menusel
Цвет выделенного пункта меню
.TP
.I menuhotsel
Цвет хоткеев, находящихся в фокусе
.TP
.I menuinactive
Цвет неактивного меню

.PP
Секция
.B [help]
содержит описания цветов для окна отображения помощи.
.TP
.I _default_
Цвет по умолчанию для данной секции. Если не указан, то используется [core]._default_
.TP
.I helpitalic
Цветовыделение элементов с атрибутом
.B italic
.TP
.I helpbold
Цветовыделение элементов с атрибутом
.B bold
.TP
.I helplink
Цвет ссылок
.TP
.I helpslink
Цвет ссылки, находящейся под курсором

.PP
Секция
.B [editor]
содержит описания элементов редактора
.TP
.I _default_
Цвет по умолчанию для данной секции. Если не указан, то используется [core]._default_
.TP
.I editbold
Цветовыделение элементов с атрибутом
.B bold
.TP
.I editmarked
Цвет выделенного текста
.TP
.I editwhitespace
Подсветка знаков табуляции и "висящих" пробелов
.TP
.I editlinestate
Цвет области отображения состояния строки.

.PP
Секция
.B [viewer]
содержит описания элементов редактора
.TP
.I viewunderline
Цветовыделение элементов с атрибутом
.B underline

.\"NODE "  Skins colors"
.SH "  Цветовые пары"
Каждый параметр в скин\-файле содержит цветовые пары.
.PP
Цветовые пары описываются как два цвета и необязательные атрибуты,
разделённые символом ";". Первый цвет задаёт цвет написания символов,
второй \- цвет фона. Любой из цветов и атрибуты могут быть пропущены,
в этом случае будет взят цвет по умолчанию (глобальный или для данной
секции).
.PP
Например:
.br
.nf
[core]
    # зелёным по чёрному
    _default_=green;black
    # зелёным (умолч.) по синему
    selected=;blue
    # жёлтым по чёрному (умолч.) с подчёркиванием
    marked=yellow;;underline
.fi

.PP
Возможные цвета (названия) и атрибуты описаны в секции
.\"LINK2"
Цвета\&.
.\"Colors"

.\"NODE "  Skins lines"
.SH "  Линии для отрисовки рамок"
Линии задаются в секции
.B [Lines]
в скин\-файле. По умолчанию используются одинарные линии, но возможно
переназначить на использование любых utf\-8 символов, похожих на линии
.PP
.I ВНИМАНИЕ!!!
При сборке Midnight Commander с библиотекой Ncurses использование
линий ограничено! Возможна только отрисовка одинарных линий. По всем
вопросам и предложениям обращайтесь к разработчикам Ncurses.

.PP
Описание параметров секции
.BR [Lines] :
.TP
.I lefttop
изображение левого верхнего угла рамки
.TP
.I righttop
изображение правого верхнего угла рамки
.TP
.I centertop
изображение ответвления горизонтальной линии вниз
.TP
.I centerbottom
изображение ответвления горизонтальной линии вверх
.TP
.I leftbottom
изображение левого нижнего угла рамки
.TP
.I rightbottom
изображение правого нижнего угла рамки
.TP
.I leftmiddle
изображение ответвления вертикальной линии вправо
.TP
.I rightmiddle
изображение ответвления вертикальной линии влево
.TP
.I centermiddle
изображение пересечения вертикальной и горизонтальной линий
.TP
.I horiz
изображение горизонтальной линии
.TP
.I vert
изображение вертикальной линии
.TP
.I thinhoriz
изображение тонкой горизонтальной линии
.TP
.I thinvert
изображение тонкой вертикальной линии

.\"NODE "  Skins oldcolors"
.SH "  Совместимость"
Назначение цветов элементов посредством скин\-файлов полностью совместимо
с назначением цветов, описанном в секции
.\"LINK2"
Цвета\&.
.\"Colors"
.PP
В данном случае переназначение цветов имеет приоритет над скин\-файлами и носит
дополняющий характер.

.\"NODE "Filenames Highlight"
.SH "Подсветка имён файлов"
Секция [filehighlight] из текущего скин\-файла содержит имена параметров
(в качестве групп подсветки) и значения параметров как цветовые пары.
Описания цветовых пар смотрите в разделе
.\"LINK2"
Внешний вид
.\"Skins"
.PP
Правила подсветки находятся в файле %sysconfdir%/mc/filehighlight.ini
(~/.config/mc/filehighlight.ini).
Названия групп должны совпадать с названиями параметров в секции
[filehighlight] в текущем скин\-файле.
.PP
Ключи в группах могут принимать  следующие значения:
.TP
.I type
Тип файла. Если параметр присутствует, остальные опции игнорируются
.TP
.I regexp
Регулярное выражение. Если присутствует, параметр 'extensions' игнорируется.
.TP
.I extensions
Список расширений файлов. Раасширения разделяются символом ';'.
.TP
.I extensions_case
(имеет смысл только с параметром 'extensions') делает правило 'extensions'
чувствительным к регистру букв (true) или не чувтсвительным (false).
.PP
Параметр 'type' (тип файла) может принимать значения:
.nf
\- FILE (все файлы)
  \- FILE_EXE
\- DIR (все каталоги)
  \- LINK_DIR
\- LINK (все ссылки (линки), исключая "битые" линки)
  \- HARDLINK
  \- SYMLINK
\- STALE_LINK
\- DEVICE (все файлы устройств)
  \- DEVICE_BLOCK
  \- DEVICE_CHAR
\- SPECIAL (все специальные файлы)
  \- SPECIAL_SOCKET
  \- SPECIAL_FIFO
  \- SPECIAL_DOOR
.fi
.\"NODE "Special Settings"
.SH "Специальные установки"
Большинство установок Midnight Commander может быть изменено путем
использования меню. Однако имеется несколько установок, которые могут
быть изменены только путем непосредственного редактирования
конфигурационного файла
.BR ~/.config/mc/ini .
.PP
.I clear_before_exec
.IP
По умолчанию Midnight Commander очищает экран перед выполнением команды.
Если вы хотите, чтобы вывод предыдущей команды не исчезал, измените
значение поля clear_before_exec на 0.
.PP
.I confirm_view_dir
.IP
Если вы нажимаете
.B F3
на имени каталога, обычно
.B MC
переходит в этот каталог. Если этот флаг будет установлен в 1,
.B MC
будет спрашивать подтверждение перед тем, как перейти в указанный
каталог, если в текущем каталоге были помечены какие\-либо файлы.
.PP
.I ftpfs_retry_seconds
.IP
Этот параметр задает интервал времени (в секундах), по истечении
которого Midnight Commander будет предпринимать повторную попытку
соединиться с ftp\-сервером после того, как предыдущая попытка окончилась
неудачей. Если задано нулевое значение, программа не будет повторять
попытку соединиться.
.PP
.I ftpfs_use_passive_connections
.IP
По умолчанию эта опция отключена. Она включается для передачи файлов по
протоколу FTP в тех случаях, когда компьютер пользователя располагается
за маршрутизатором, фильтрующим пакеты (behind a filtering packet
router). Эта опция работает только в том случае, если вы не используете
прокси (you are not using an ftp proxy).
.PP
.I max_dirt_limit
.IP
Определяет, сколько раз может быть пропущена операция обновления
изображения на экране при работе во встроенной программе просмотра.
Обычно этот параметр не имеет большого значения, поскольку программа
автоматически выбирает оптимальное значение в зависимости от скорости
нажатий на клавиши. Однако на очень медленных машинах или терминалах с
большой скоростью автоповторения (keyboard auto repeat) слишком большое
значение этого параметра может привести к тому, что процедура обновления
экрана начнет вaс раздражать.
.IP
По\-видимому, значение max_dirt_limit, равное 10, обеспечивает наилучший
выбор, и именно такое значение устанавливается по умолчанию.
.PP
.I mouse_move_pages_viewer
.IP
Определяет, будет ли прокрутка информации (scrolling) во встроенной
программе просмотра, осуществляемая с помощью мышки, производиться
страницами или на одну строку.
.PP
.I only_leading_plus_minus
.IP
Устанавливает специальный режим обработки символов '+', '\-', '*' в
командной строке. Эти символы используются для выбора, отмены выбора и
инвертирования выбора, но выполняют такую функцию только если командная
строка пуста. В середине командной строки эти символы уже не вызывают
выполнения операций группового выбора, но зато вы не сможете
использовать эти символы для таких операций, если командная строка не
пуста.
.PP
.I show_output_starts_shell
.IP
Эта переменная работает только в том случае, когда не включена поддержка
subshell. Если она установлена, то при нажатии
.B C\-o
для перехода в экран пользователя будет запускаться новый экземпляр
оболочки.
.PP
.I torben_fj_mode
.IP
Установка этой опции слегка изменяет реакцию программы на нажатие клавиш
Home и End в активной панели. Вместо того, чтобы перемещать подсветку
(курсор) к первому или последнему из имен файлов, отображенных на
панели, нажатие этих клавиш будет вызывать следующую реакцию:
.IP
клавиша Home \- перемещение курсора вверх до середины панели, если курсор
был ниже, в противном случае перемещение на самую верхнюю строку; если
только курсор уже на самой верхней строке, то перемещение на самую
первую строку списка файлов.
.IP
клавиша End вызывает аналогичную реакцию \- смещение вниз до середины
панели, если курсор был выше; если ниже \- то переход на последнюю
отображаемую в панели строку; если уже на последней строке, то
перемещение курсора на самую последнюю строку списка файлов.
.PP
.I use_file_to_guess_type
.IP
Когда эта опция включена (что сделано по умолчанию), mc будет вызывать
программу
.B file
для определения типа файла в соответствии с типами файлов, указанными в файле
.\"LINK2"
mc.ext\&.
.\"Extension File Edit"
.PP
.I xtree_mode
.IP
Если эта переменная включена (по умолчанию она отключена), то при
просмотре в одной из панелей структуры дерева каталогов во второй панели
автоматически будет отображаться список файлов выбранного каталога.
.TP
.I clipboard_store
Эта переменная позволяет назначить внешнюю программу (с параметрами) для
работы с буфером обмена, такую как 'xclip', для вставки данных в системный
буфер обмена.
Например:
.PP
.nf
clipboard_store=xclip \-i
.fi
.TP
.I clipboard_paste
Эта переменная позволяет назначить внешнюю программу (с параметрами) для
работы с буфером обмена, такую как 'xclip', для получения данных из системного
буфера обмена.
Например:
.PP
.nf
clipboard_paste=xclip \-o
.fi
.PP
.I autodetect_codeset
.IP
Эта опция позволяет использовать команду enca для автоматического
определения кодировки текстовых файлов во встроенных просмотрщике и редакторе.
Список допустимых значений может быть получен командой
"enca \-\-list languages | cut \-d : \-f1". Опция должна располагаться в секции
[Misc].
.PP
Например:
.PP
.nf
autodetect_codeset=russian
.fi
.\"NODE "Parameters for external editor or viewer"
.SH "Параметры для внешних редакторов и программ просмотра"
Midnight Commander позволяет задать некоторые параметрыы для внешних редакторов
и программ просмотра. Они задаются в секции "[External editor or viewer parameters]",
которая сначала ищется в системном (mc.lib), а затем в пользовательском (~/.config/mc/ini)
файле инициализации. Имя параметра должно совпадать с именем внешнего редактора или
программы просмотра. Значение параметра может содержать следующие переменные:
.PP
.I %filename
.IP
Имя файла для редактирования или просмотра.
.PP
.I %lineno
.IP
Номер начальной строки в открываемом файле.
.PP
Пример:
.PP
.nf
[External editor or viewer parameters]
    vi=%filename +%lineno
    joe=%filename +%lineno
    more=%filename +%lineno
.fi
.\"NODE "Terminal databases"
.SH "Базы терминалов"
Midnight Commander обеспечивает возможность внесения исправлений в
системную базу терминалов, даже если вы не обладаете правами
суперпользователя. Midnight Commander ищет в системном инициализационном
файле (файл
.B mc.lib
в библиотечном каталоге программы Midnight Commander) или в файле
.B ~/.config/mc/ini
секцию с названием "terminal:your\-terminal\-name", а затем секцию 
"terminal:general". Каждая строка в этих секциях содержит ключевое
слово, которое вы хотите определить, за которым следует знак равенства и
определение ключевого слова. Специальный символ
.B \\\\e
используется для задания экранирующих последовательностей, а
.B ^x
служит для задания последовательностей вида
.B control\-x
.PP
В качестве ключевых слов используются:
.PP
.nf
f0 \- f20      определяет последовательность символов,
              генерируемых при нажатии на функциональные
              клавиши f0\-f20
bs            определяет последовательность символов, которая
              будет использоваться вместо клавиши backspace
home          то же для клавиши Home
end           то же для клавиши end
up            то же для клавиши "стрелка вверх"
down          то же для клавиши "стрелка вниз"
left          то же для клавиши "стрелка влево"
right         то же для клавиши "стрелка вправо"
pgdn          то же для клавиши page down
pgup          то же для клавиши page up
insert        то же для клавиши insert
delete        то же для клавиши delete
complete      комбинация клавиш для выполнения операции
              "завершение ввода"
.fi
.PP
Например, для того, чтобы задать, что клавише insert соответствует
экранирующая последовательность Escape + [ + O + p нужно в файле ini
прописать строку:
.PP
.nf
insert=\\e[Op
.fi
.PP
Операция "завершение ввода" обычно вызывается по клавишам
.B M\-tab,
но задав значение ключевого слова
.I complete
можно вызывать такую же реакцию системы по другой комбинации клавиш
(почему бы не сделать это, если у вас клавиатура, имеющая массу
неиспользуемых клавиш!).
.\"NODE "FILES"
.SH "Файлы"
Программа извлекает всю нужную ей информацию из файлов, пути к которым
определяются относительно переменной окружения
.BR MC_DATADIR .
Если эта переменная не задана, происходит обращение к так называемому
библиотечному каталогу программы Midnight Commander. Для того, чтобы
узнать имя этого каталога, дайте команду
.BR "mc \-f" .
.PP
.I %prefix%/share/mc/mc.hlp
.IP
Файл подсказки для программы.
.PP
.I %prefix%/share/mc/mc.ext
.IP
Используемый по умолчанию общесистемный файл расширений.
.PP
.I ~/.config/mc/mc.ext
.IP
Файл расширений пользователя. Если этот файл существует, он используется
вместо общесистемного файла расширений.
.PP
.I %prefix%/share/mc/mc.ini
.IP
Используемый по умолчанию общесистемный файл установок для Midnight
Commander; используется только в тех случаях, когда пользователь не
имеет своего файла
.B ~/.config/mc/ini
.PP
.I %prefix%/share/mc/mc.lib
.IP
Глобальные установки для Midnight Commander.  Установки из этого файла
действительны для всех пользователей, независимо от того, имеют ли они
~/.config/mc/ini или нет.  В настоящий момент только
.\"LINK2"
настройки терминалов
.\"Terminal databases"
загружаются из mc.lib.
.PP
.I ~/.config/mc/ini
.IP
Собственные установки пользователя. Если такой файл существует, то
установки загружаются из него, а не из общесистемного инициализационного
файла программы.
.PP
.I %prefix%/share/mc/mc.hint
.IP
Этот файл содержит подсказки (hints или cookies), циклически
отображаемые программой.
.PP
.I %prefix%/share/mc/mc.menu
.IP
Этот файл содержит общесистемное меню приложений.
.PP
.I ~/.config/mc/menu
.IP
Собственное меню пользователя. Если этот файл существует, он
используется вместо общесистемного меню.
.PP
.I ~/.cache/mc/Tree
.IP
Список каталогов для окна, выводимого при выборе пункта меню
"Команда/Дерево каталогов" или при просмотре дерева каталогов в одной из
панелей. Каждая строка файла соответствует подкаталогу. Строки,
начинающиеся со слэша ("/") соответствуют полным путям. Если строка
начинается с цифры, то надо взять указанное число символов из имени
предыдущего каталога. При желании можно создать этот файл, дав
команду
.IP
.nf
 find / \-type d \-print | sort > ~/.cache/mc/Tree
.fi
.IP
Обычно не имеет смысла делать это, потому что Midnight Commander
автоматически обновляет этот файл.
.PP
.I ./.mc.menu
.IP
локальное меню, задаваемое пользователем. Если этот файл существует, он
используется вместо файла меню из домашнего каталога пользователя и
общесистемного меню.
.PP
Для того, чтобы изменить корневой каталог MC, установленный по умолчанию,
можно использовать переменную окружения
.BR MC_HOME .
Значением этой переменный должен быть абсолютный путь. Если переменная MC_HOME
не определена или пуста, используется переменная окружения HOME. Если и HOME
не определена или пуста, каталоги MC определяются средствами библиотеки GLib.
.\"SKIP_SECTION"
.\" "LICENSE"
.SH Лицензия
Эта программа распространяется в надежде, что она будет полезной, но БЕЗ
КАКИХ\-ЛИБО ГАРАНТИЙ; даже без подразумеваемых гарантий КОММЕРЧЕСКОЙ
ЦЕННОСТИ или ПРИГОДНОСТИ ДЛЯ КОНКРЕТНОЙ ЦЕЛИ.  Для получения подробных
сведений смотрите Универсальную Общественную Лицензию GNU.
.\"NODE "AVAILABILITY"
.SH "Обновление версий"
Последние версии программы Midnight Commander можно найти на сайте
ftp://ftp.gnu.org/gnu/mc/.
.\"NODE "SEE ALSO"
.SH "Другие источники"
ed(1), gpm(1), terminfo(1), view(1), sh(1), bash(1), tcsh(1),
zsh(1), mcedit(1).
.PP
.nf
Страница, посвященная Midnight Commander, в World Wide Web:
	http://www.midnight\-commander.org/
.fi
.PP
Данная страница оперативного руководства содержит информацию, актуальную
для версии 4.6.0 (январь 2003 года).  Если вы используете более свежую
версию программы, оригинальная страница на английском языке может
содержать более полную и актуальную информацию. Для просмотра
оригинальной страницы в оболочке bash можно использовать команду
.nf
LANG= man mc
.fi
.\"NODE "AUTHORS"
.SH "АВТОРЫ"
Miguel de Icaza (miguel@ximian.com), Janne Kukonlehto
(jtklehto@paju.oulu.fi), Radek Doulik (rodo@ucw.cz), Fred Leeflang
(fredl@nebula.ow.org), Dugan Porter (dugan@b011.eunet.es), Jakub Jelinek
(jj@sunsite.mff.cuni.cz), Ching Hui (mr854307@cs.nthu.edu.tw), Andrej
Borsenkow (borsenkow.msk@sni.de), Norbert Warmuth
(nwarmuth@privat.circular.de), Mauricio Plaza
(mok@roxanne.nuclecu.unam.mx), Paul Sheer (psheer@icon.co.za), Pavel
Machek (pavel@ucw.cz) and Pavel Roskin (proski@gnu.org) are the
developers of this package. Alessandro Rubini (rubini@ipvvis.unipv.it)
has been especially helpful debugging and enhancing the program's mouse
support, John Davis (davis@space.mit.edu) also made his S\-Lang library
available to us under the GPL and answered my questions about it, and
the following people have contributed code and many bug fixes (in
alphabetical order):
.PP
Adam Tla/lka (atlka@sunrise.pg.gda.pl), alex@bcs.zp.ua (Alex I.
Tkachenko), Antonio Palama, DOS port (palama@posso.dm.unipi.it), Erwin
van Eijk (wabbit@corner.iaf.nl), Gerd Knorr (kraxel@cs.tu\-berlin.de),
Jean\-Daniel Luiset (luiset@cih.hcuge.ch), Jon Stevens
(root@dolphin.csudh.edu), Juan Francisco Grigera, Win32 port
(j\-grigera@usa.net), Juan Jose Ciarlante (jjciarla@raiz.uncu.edu.ar),
Ilya Rybkin (rybkin@rouge.phys.lsu.edu), Marcelo Roccasalva
(mfroccas@raiz.uncu.edu.ar), Massimo Fontanelli (MC8737@mclink.it),
Sergey Ya. Korshunoff (root@seyko.msk.su), Thomas Pundt
(pundtt@math.uni\-muenster.de), Timur Bakeyev
(timur@goff.comtat.kazan.su), Tomasz Cholewo
(tjchol01@mecca.spd.louisville.edu), Torben Fjerdingstad
(torben.fjerdingstad@uni\-c.dk), Vadim Sinolitis (vvs@nsrd.npi.msu.su)
and Wim Osterholt (wim@djo.wtm.tudelft.nl).
.PP
Перевод текста подсказки на русский язык \- Костромин В.А., 1999г.
Исправления, адаптация к текущей версии и конвертация в формат mandoc \-
Самойлов А.В. <sav@bcs.zp.ua>, 2002 г.
.\"NODE "BUGS"
.SH "Недоработки"
Известные авторам недоработки программы перечислены в файле TODO,
который можно найти в составе поставляемого пакета.
.PP
Если вы обнаружили в программе какие\-то недостатки или недоработки,
пришлите, пожалуйста, ваши замечания по e\-mail на адрес:
.IR mc\-devel@gnome.org .
.PP
Дайте в письме подробное описание обнаруженных недостатков (и/или ваших
предложений по усовершенствованию программы), сообщите версию программы
с которой вы работаете (для получения номера версии используйте команду
mc \-V), в какой операционной системе вы запускали программу. В случае
фатальной ошибки программы, мы будем очень благодарны, если вы пришлете
след вызовов.
